[{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\jest.config.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":38}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const nextJest = require('next/jest');\n\nconst createJestConfig = nextJest({\n  // Provide the path to your Next.js app to load next.config.js and .env files in your test environment\n  dir: './',\n});\n\n// Add any custom config to be passed to Jest\nconst customJestConfig = {\n  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],\n  testEnvironment: 'jest-environment-jsdom',\n  moduleNameMapper: {\n    '^@/(.*)$': '<rootDir>/src/$1',\n  },\n  transform: {\n    '^.+\\.(ts|tsx)$': 'ts-jest',\n  },\n};\n\n// createJestConfig is exported this way to ensure that next/jest can load the Next.js config which is async\nmodule.exports = createJestConfig(customJestConfig);\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\jest.setup.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\next-auth.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\actions\\auth-actions.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":105,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":105,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":218,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":218,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":234,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":234,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":276,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":276,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\r\n\r\nimport { auth } from '@/auth';\r\nimport { prisma } from '@/lib/db';\r\nimport { Prisma, UserRole } from '@prisma/client';\r\nimport bcrypt from 'bcryptjs';\r\nimport { revalidatePath } from 'next/cache';\r\n\r\n// Helper to check admin access\r\nasync function requireAdmin() {\r\n  const session = await auth();\r\n  if (!session?.user || session.user.role !== 'ADMIN') {\r\n    throw new Error('Unauthorized: Admin access required');\r\n  }\r\n  return session;\r\n}\r\n\r\nexport async function signupAction(\r\n  name: string,\r\n  email: string,\r\n  password: string,\r\n) {\r\n  // Validate input\r\n  if (!email || !password || !name) {\r\n    return { success: false, message: 'Missing fields' };\r\n  }\r\n\r\n  // Check if user exists\r\n  const existingUser = await prisma.user.findUnique({\r\n    where: { email },\r\n  });\r\n\r\n  if (existingUser) {\r\n    return { success: false, message: 'Email already exists' };\r\n  }\r\n\r\n  // Hash password\r\n  const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n  // Create user\r\n  try {\r\n    await prisma.user.create({\r\n      data: {\r\n        name,\r\n        email,\r\n        password: hashedPassword,\r\n        // Default role is \"USER\" from schema\r\n        role: 'USER',\r\n      },\r\n    });\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error('Signup error:', error);\r\n    return { success: false, message: 'Failed to create account' };\r\n  }\r\n}\r\n\r\nexport async function createUserAction(\r\n  name: string,\r\n  email: string,\r\n  password: string,\r\n  role: UserRole,\r\n) {\r\n  try {\r\n    await requireAdmin();\r\n\r\n    if (!email || !password || !name || !role) {\r\n      return { success: false, message: 'Missing fields' };\r\n    }\r\n\r\n    const existingUser = await prisma.user.findUnique({\r\n      where: { email },\r\n    });\r\n\r\n    if (existingUser) {\r\n      return { success: false, message: 'Email already exists' };\r\n    }\r\n\r\n    const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n    const user = await prisma.user.create({\r\n      data: {\r\n        name,\r\n        email,\r\n        password: hashedPassword,\r\n        role,\r\n      },\r\n    });\r\n\r\n    revalidatePath('/admin/users');\r\n\r\n    return { success: true, message: 'User created successfully.', user };\r\n  } catch (error) {\r\n    console.error('--- Error during user creation: ---', error);\r\n    return { success: false, message: 'Failed to create user' };\r\n  }\r\n}\r\n\r\nexport async function getUsersAction() {\r\n  try {\r\n    await requireAdmin();\r\n\r\n    const users = await prisma.user.findMany();\r\n    return { success: true, users };\r\n  } catch (error) {\r\n    return { success: false, message: 'Failed to fetch users' };\r\n  }\r\n}\r\n\r\nexport async function getUserByIdAction(userId: string) {\r\n  try {\r\n    await requireAdmin();\r\n\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: userId },\r\n      include: {\r\n        wishlistItems: {\r\n          select: { id: true },\r\n        },\r\n        orders: {\r\n          select: { id: true },\r\n        },\r\n        reviews: {\r\n          select: { id: true },\r\n        },\r\n        cartItems: {\r\n          select: { id: true },\r\n        },\r\n      },\r\n    });\r\n\r\n    if (!user) {\r\n      return {\r\n        success: false,\r\n        message: 'User not found',\r\n        user: null,\r\n      };\r\n    }\r\n\r\n    // Return user with activity counts\r\n    return {\r\n      success: true,\r\n      user: {\r\n        id: user.id,\r\n        name: user.name || '',\r\n        email: user.email || '',\r\n        role: user.role,\r\n        bio: user.bio,\r\n        createdAt: user.createdAt.toISOString(),\r\n        updatedAt: user.updatedAt.toISOString(),\r\n        // Activity counts from database\r\n        cartCount: user.cartItems?.length || 0,\r\n        wishlistCount: user.wishlistItems?.length || 0,\r\n        ordersCount: user.orders?.length || 0,\r\n        reviewsCount: user.reviews?.length || 0,\r\n      },\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching user:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Failed to fetch user',\r\n      user: null,\r\n    };\r\n  }\r\n}\r\nexport async function updateUserAction(\r\n  id: string,\r\n  data: {\r\n    name?: string;\r\n    email?: string;\r\n    role?: UserRole;\r\n    bio?: string;\r\n    image?: string;\r\n    password?: string;\r\n  },\r\n) {\r\n  try {\r\n    await requireAdmin();\r\n\r\n    // Check if email is already taken by another user\r\n    if (data.email) {\r\n      const existingUser = await prisma.user.findFirst({\r\n        where: {\r\n          email: data.email,\r\n          id: { not: id },\r\n        },\r\n      });\r\n      if (existingUser) {\r\n        return {\r\n          success: false,\r\n          message: 'Email is already in use by another account.',\r\n        };\r\n      }\r\n    }\r\n\r\n    const updateData: Prisma.UserUpdateInput = {\r\n      name: data.name,\r\n      email: data.email,\r\n      role: data.role,\r\n      bio: data.bio,\r\n      image: data.image,\r\n    };\r\n\r\n    if (data.password && data.password.trim() !== '') {\r\n      updateData.password = await bcrypt.hash(data.password, 10);\r\n    }\r\n\r\n    const user = await prisma.user.update({\r\n      where: { id },\r\n      data: updateData,\r\n    });\r\n\r\n    revalidatePath('/admin/users');\r\n    revalidatePath(`/admin/users/${id}`);\r\n\r\n    return { success: true, message: 'User updated successfully.', user };\r\n  } catch (error) {\r\n    return { success: false, message: 'Failed to update user' };\r\n  }\r\n}\r\n\r\nexport async function deleteUserAction(id: string) {\r\n  try {\r\n    await requireAdmin();\r\n\r\n    await prisma.user.delete({\r\n      where: { id },\r\n    });\r\n\r\n    revalidatePath('/admin/users');\r\n\r\n    return { success: true, message: 'User deleted successfully.' };\r\n  } catch (error) {\r\n    return { success: false, message: 'Failed to delete user' };\r\n  }\r\n}\r\n\r\nexport async function updateProfileAction(data: {\r\n  name?: string;\r\n  email?: string;\r\n  bio?: string;\r\n  image?: string;\r\n}) {\r\n  try {\r\n    const session = await auth();\r\n    if (!session?.user?.id) {\r\n      throw new Error('Unauthorized: User not logged in');\r\n    }\r\n    const userId = session.user.id;\r\n\r\n    // If email is being changed, check if it's already taken\r\n    if (data.email) {\r\n      const existingUser = await prisma.user.findFirst({\r\n        where: {\r\n          email: data.email,\r\n          id: { not: userId }, // Check for other users with this email\r\n        },\r\n      });\r\n      if (existingUser) {\r\n        return {\r\n          success: false,\r\n          message: 'Email is already in use by another account.',\r\n        };\r\n      }\r\n    }\r\n\r\n    const user = await prisma.user.update({\r\n      where: { id: userId },\r\n      data,\r\n    });\r\n\r\n    revalidatePath('/account');\r\n\r\n    return { success: true, message: 'Profile updated successfully.', user };\r\n  } catch (error) {\r\n    return { success: false, message: 'Failed to update profile' };\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\actions\\cart-actions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":81,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2486,2489],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2486,2489],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":127,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":127,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":145,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":145,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":179,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":179,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":197,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":197,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":274,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":274,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":291,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":291,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":324,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":324,"endColumn":19}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":269,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":269,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7713,7716],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7713,7716],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":271,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":271,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7832,7835],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7832,7835],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":1,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// actions/cart-actions.ts\r\n'use server';\r\n\r\nimport { auth } from '@/auth';\r\nimport { prisma } from '@/lib/db';\r\nimport { revalidatePath } from 'next/cache';\r\n\r\nexport async function addItemToCartAction(\r\n  productId: string,\r\n  quantity: number = 1,\r\n  options?: Record<string, string>\r\n) {\r\n  const session = await auth();\r\n  if (!session?.user?.id) {\r\n    return { success: false, message: 'Not authenticated' };\r\n  }\r\n  const userId = session.user.id;\r\n\r\n   try {\r\n    // Start a transaction to ensure data integrity\r\n    return await prisma.$transaction(async (tx) => {\r\n      // 1. Check current stock with a read (or use update with a where clause)\r\n      const product = await tx.product.findUnique({\r\n        where: { id: productId },\r\n        select: { id: true, stock: true },\r\n      });\r\n\r\n      if (!product) throw new Error('Product not found');\r\n      \r\n      // 2. Validate stock availability\r\n      if (product.stock < quantity) {\r\n        return {\r\n          success: false,\r\n          message: `Only ${product.stock} items available`,\r\n        };\r\n      }\r\n\r\n      // 3. Decrease the stock immediately\r\n      await tx.product.update({\r\n        where: { id: productId },\r\n        data: {\r\n          stock: {\r\n            decrement: quantity,\r\n          },\r\n        },\r\n      });\r\n\r\n      // 4. Handle cleanup (Wishlist/Saved for Later)\r\n      const optionsToSave = options && Object.keys(options).length > 0 ? options : {};\r\n      \r\n      await tx.wishlistItem.deleteMany({ where: { userId, productId } });\r\n      await tx.savedForLater.deleteMany({ where: { userId, productId } });\r\n\r\n      // 5. Update or Create Cart Item\r\n      const existingCartItem = await tx.cartItem.findFirst({\r\n        where: { userId, productId, selectedOptions: optionsToSave },\r\n      });\r\n\r\n      if (existingCartItem) {\r\n        await tx.cartItem.update({\r\n          where: { id: existingCartItem.id },\r\n          data: { quantity: existingCartItem.quantity + quantity },\r\n        });\r\n      } else {\r\n        await tx.cartItem.create({\r\n          data: {\r\n            userId,\r\n            productId,\r\n            quantity,\r\n            selectedOptions: optionsToSave,\r\n          },\r\n        });\r\n      }\r\n\r\n      revalidatePath('/cart');\r\n      revalidatePath('/wishlist');\r\n      revalidatePath(`/product/${productId}`); // Revalidate product page to show new stock\r\n      \r\n      return { success: true, message: 'Item added to cart and stock updated' };\r\n    });\r\n  } catch (error: any) {\r\n    console.error('Error in addItemToCartAction:', error);\r\n    return { \r\n      success: false, \r\n      message: error.message === 'Product not found' ? error.message : 'Failed to add to cart' \r\n    };\r\n  }\r\n}\r\n\r\nexport async function updateCartItemQuantityAction(\r\n  cartItemId: string,\r\n  quantity: number\r\n) {\r\n  const session = await auth();\r\n  if (!session?.user?.id) {\r\n    return { success: false, message: 'Not authenticated' };\r\n  }\r\n\r\n  try {\r\n    if (quantity <= 0) {\r\n      return removeCartItemAction(cartItemId);\r\n    }\r\n\r\n    const cartItem = await prisma.cartItem.findFirst({\r\n      where: { id: cartItemId, userId: session.user.id },\r\n      include: { product: { select: { stock: true } } },\r\n    });\r\n\r\n    if (!cartItem) {\r\n      return { success: false, message: 'Cart item not found' };\r\n    }\r\n\r\n    if (quantity > cartItem.product.stock) {\r\n      return {\r\n        success: false,\r\n        message: `Only ${cartItem.product.stock} items available`,\r\n      };\r\n    }\r\n\r\n    await prisma.cartItem.update({\r\n      where: { id: cartItemId },\r\n      data: { quantity },\r\n    });\r\n\r\n    revalidatePath('/cart');\r\n    return { success: true, message: 'Quantity updated' };\r\n  } catch (error) {\r\n    return { success: false, message: 'Failed to update quantity' };\r\n  }\r\n}\r\n\r\nexport async function removeCartItemAction(cartItemId: string) {\r\n  const session = await auth();\r\n  if (!session?.user?.id) {\r\n    return { success: false, message: 'Not authenticated' };\r\n  }\r\n\r\n  try {\r\n    await prisma.cartItem.delete({\r\n      where: { id: cartItemId, userId: session.user.id },\r\n    });\r\n\r\n    revalidatePath('/cart');\r\n    return { success: true, message: 'Item removed from cart' };\r\n  } catch (error) {\r\n    return { success: false, message: 'Failed to remove item' };\r\n  }\r\n}\r\n\r\nexport async function saveForLaterAction(cartItemId: string) {\r\n  const session = await auth();\r\n  if (!session?.user?.id) {\r\n    return { success: false, message: 'Not authenticated' };\r\n  }\r\n\r\n  try {\r\n    const cartItem = await prisma.cartItem.findFirst({\r\n      where: { id: cartItemId, userId: session.user.id },\r\n    });\r\n\r\n    if (!cartItem) {\r\n      return { success: false, message: 'Cart item not found' };\r\n    }\r\n\r\n    await prisma.$transaction([\r\n      prisma.savedForLater.create({\r\n        data: {\r\n          userId: session.user.id,\r\n          productId: cartItem.productId,\r\n        },\r\n      }),\r\n      prisma.cartItem.delete({\r\n        where: { id: cartItemId },\r\n      }),\r\n    ]);\r\n\r\n    revalidatePath('/cart');\r\n    return { success: true, message: 'Item saved for later' };\r\n  } catch (error) {\r\n    // Handle potential unique constraint violation if item already saved\r\n    return { success: false, message: 'Failed to save item for later' };\r\n  }\r\n}\r\n\r\nexport async function clearCartAction() {\r\n  const session = await auth();\r\n  if (!session?.user?.id) {\r\n    return { success: false, message: 'Not authenticated' };\r\n  }\r\n\r\n  try {\r\n    await prisma.cartItem.deleteMany({\r\n      where: { userId: session.user.id },\r\n    });\r\n    revalidatePath('/cart');\r\n    return { success: true, message: 'Cart cleared' };\r\n  } catch (error) {\r\n    return { success: false, message: 'Failed to clear cart' };\r\n  }\r\n}\r\n\r\nexport async function getCartAction() {\r\n  const session = await auth();\r\n  const emptyCart = { items: [], savedForLater: [], user: null };\r\n\r\n  if (!session?.user?.id) {\r\n    return emptyCart;\r\n  }\r\n\r\n  try {\r\n    const results = await Promise.all([\r\n      prisma.cartItem.findMany({\r\n        where: { userId: session.user.id },\r\n        include: {\r\n          product: {\r\n            include: {\r\n              images: { select: { id: true, url: true } },\r\n              reviews: {\r\n                select: {\r\n                  id: true,\r\n                  userId: true,\r\n                  rating: true,\r\n                  title: true,\r\n                  comment: true,\r\n                  helpful: true,\r\n                  verifiedPurchase: true,\r\n                  createdAt: true,\r\n                  user: { select: { name: true } }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        orderBy: { createdAt: 'desc' },\r\n      }),\r\n      prisma.savedForLater.findMany({\r\n        where: { userId: session.user.id },\r\n        include: {\r\n          product: {\r\n            include: {\r\n              images: { select: { id: true, url: true } },\r\n              reviews: {\r\n                select: {\r\n                  id: true,\r\n                  userId: true,\r\n                  rating: true,\r\n                  title: true,\r\n                  comment: true,\r\n                  helpful: true,\r\n                  verifiedPurchase: true,\r\n                  createdAt: true,\r\n                  user: { select: { name: true } }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        orderBy: { createdAt: 'desc' },\r\n      }),\r\n      prisma.user.findUnique({\r\n        where: { id: session.user.id },\r\n        include: { coupon: true },\r\n      }),\r\n    ]);\r\n    const [cartItems, savedForLaterItems, user] = results;\r\n    \r\n    return {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      items: cartItems as any,\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      savedForLater: savedForLaterItems as any,\r\n      user,\r\n    };\r\n  } catch (error) {\r\n    return emptyCart;\r\n  }\r\n}\r\n\r\nexport async function removeSavedForLaterItemAction(savedItemId: string) {\r\n    const session = await auth();\r\n    if (!session?.user?.id) {\r\n        return { success: false, message: 'Not authenticated' };\r\n    }\r\n\r\n    try {\r\n        await prisma.savedForLater.delete({\r\n            where: { id: savedItemId, userId: session.user.id },\r\n        });\r\n        revalidatePath('/cart');\r\n        return { success: true, message: 'Item removed from saved for later' };\r\n    } catch (error) {\r\n        return { success: false, message: 'Failed to remove item' };\r\n    }\r\n}\r\n\r\nexport async function moveToCartAction(savedItemId: string) {\r\n    const session = await auth();\r\n    if (!session?.user?.id) {\r\n        return { success: false, message: 'Not authenticated' };\r\n    }\r\n\r\n    try {\r\n        const savedItem = await prisma.savedForLater.findFirst({\r\n            where: { id: savedItemId, userId: session.user.id },\r\n        });\r\n\r\n        if (!savedItem) {\r\n            return { success: false, message: 'Item not found' };\r\n        }\r\n\r\n        // Use addItemToCartAction to handle adding the product to the cart\r\n        const addResult = await addItemToCartAction(savedItem.productId, 1);\r\n\r\n        if (!addResult.success) {\r\n            // If adding to cart failed, don't remove it from saved for later\r\n            return { success: false, message: addResult.message || 'Failed to move to cart' };\r\n        }\r\n        \r\n        // addItemToCartAction already handles removing the product from saved for later\r\n        // so we just need to return the result\r\n        \r\n        revalidatePath('/cart');\r\n        return { success: true, message: 'Item moved to cart' };\r\n    } catch (error) {\r\n        return { success: false, message: 'Failed to move item to cart' };\r\n    }\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\actions\\coupon-actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\actions\\order-actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\actions\\product-actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\actions\\review-actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\actions\\sync-user-actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\actions\\user-actions.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":336,"column":20,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":336,"endColumn":39}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\n\nimport { auth } from '@/auth';\nimport { prisma } from '@/lib/db';\nimport { revalidatePath } from 'next/cache';\nimport { UserRole } from '@prisma/client';\n\n/**\n * Helper to check admin access\n */\nasync function requireAdmin() {\n  const session = await auth();\n  if (!session?.user || session.user.role !== 'ADMIN') {\n    throw new Error('Unauthorized: Admin access required');\n  }\n  return session;\n}\n\n/**\n * Get all users (admin only)\n */\nexport async function getAllUsersAction() {\n  try {\n    await requireAdmin();\n\n    const users = await prisma.user.findMany({\n      orderBy: {\n        createdAt: 'desc',\n      },\n    });\n\n    return {\n      success: true,\n      data: users,\n    };\n  } catch (error) {\n    console.error('getAllUsersAction Error:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to fetch users',\n      data: [],\n    };\n  }\n}\n\n/**\n * Get user by ID (admin only)\n */\nexport async function getUserByIdAction(userId: string) {\n  try {\n    await requireAdmin();\n\n    const user = await prisma.user.findUnique({\n      where: { id: userId },\n      include: {\n        orders: {\n          select: {\n            id: true,\n            total: true,\n            status: true,\n            createdAt: true,\n          },\n          orderBy: {\n            createdAt: 'desc',\n          },\n          take: 10,\n        },\n        reviews: {\n          select: {\n            id: true,\n            rating: true,\n            createdAt: true,\n          },\n          take: 10,\n        },\n      },\n    });\n\n    if (!user) {\n      return {\n        success: false,\n        error: 'User not found',\n        data: null,\n      };\n    }\n\n    return {\n      success: true,\n      data: user,\n    };\n  } catch (error) {\n    console.error('getUserByIdAction Error:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to fetch user',\n      data: null,\n    };\n  }\n}\n\n/**\n * Delete user (admin only)\n */\nexport async function deleteUserFromAdminAction(userId: string) {\n  try {\n    const session = await requireAdmin();\n\n    // Prevent admin from deleting themselves\n    if (session.user.id === userId) {\n      return {\n        success: false,\n        error: 'You cannot delete your own account',\n      };\n    }\n\n    // Check if user exists\n    const user = await prisma.user.findUnique({\n      where: { id: userId },\n      select: { name: true, role: true },\n    });\n\n    if (!user) {\n      return {\n        success: false,\n        error: 'User not found',\n      };\n    }\n\n    // Delete user and all related data (cascade delete)\n    await prisma.user.delete({\n      where: { id: userId },\n    });\n\n    revalidatePath('/admin/users');\n\n    return {\n      success: true,\n      message: `User \"${user.name}\" deleted successfully`,\n    };\n  } catch (error) {\n    const errorMessage =\n      error instanceof Error ? error.message : 'Failed to delete user';\n    console.error('deleteUserFromAdminAction Error:', errorMessage);\n    return {\n      success: false,\n      error: errorMessage,\n    };\n  }\n}\n\n/**\n * Update user role (admin only)\n */\nexport async function updateUserRoleAction(\n  userId: string,\n  newRole: UserRole\n) {\n  try {\n    const session = await requireAdmin();\n\n    // Prevent admin from changing their own role\n    if (session.user.id === userId) {\n      return {\n        success: false,\n        error: 'You cannot change your own role',\n      };\n    }\n\n    // Update user role\n    const updatedUser = await prisma.user.update({\n      where: { id: userId },\n      data: { role: newRole },\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        role: true,\n      },\n    });\n\n    revalidatePath('/admin/users');\n    revalidatePath(`/admin/users/${userId}`);\n\n    return {\n      success: true,\n      message: `User role updated to ${newRole}`,\n      data: updatedUser,\n    };\n  } catch (error) {\n    console.error('updateUserRoleAction Error:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to update user role',\n    };\n  }\n}\n\n/**\n * Update user details (admin only)\n */\nexport async function updateUserAction(\n  userId: string,\n  data: {\n    name?: string;\n    email?: string;\n    role?: UserRole;\n    bio?: string;\n  }\n) {\n  try {\n    const session = await requireAdmin();\n\n    // If changing role, prevent admin from changing their own\n    if (data.role && session.user.id === userId) {\n      return {\n        success: false,\n        error: 'You cannot change your own role',\n      };\n    }\n\n    // Check if email is already in use by another user\n    if (data.email) {\n      const existingUser = await prisma.user.findFirst({\n        where: {\n          email: data.email,\n          NOT: { id: userId },\n        },\n      });\n\n      if (existingUser) {\n        return {\n          success: false,\n          error: 'Email is already in use by another user',\n        };\n      }\n    }\n\n    // Update user\n    const updatedUser = await prisma.user.update({\n      where: { id: userId },\n      data: {\n        ...(data.name && { name: data.name }),\n        ...(data.email && { email: data.email }),\n        ...(data.role && { role: data.role }),\n        ...(data.bio !== undefined && { bio: data.bio }),\n      },\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        role: true,\n      },\n    });\n\n    revalidatePath('/admin/users');\n    revalidatePath(`/admin/users/${userId}`);\n\n    return {\n      success: true,\n      message: 'User updated successfully',\n      data: updatedUser,\n    };\n  } catch (error) {\n    console.error('updateUserAction Error:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to update user',\n    };\n  }\n}\n\n/**\n * Get user statistics (admin only)\n */\nexport async function getUserStatsAction() {\n  try {\n    await requireAdmin();\n\n    const [totalUsers, adminCount, userCount, usersThisMonth] = await Promise.all([\n      prisma.user.count(),\n      prisma.user.count({ where: { role: 'ADMIN' } }),\n      prisma.user.count({ where: { role: 'USER' } }),\n      prisma.user.count({\n        where: {\n          createdAt: {\n            gte: new Date(new Date().setDate(1)), // First day of current month\n          },\n        },\n      }),\n    ]);\n\n    return {\n      success: true,\n      data: {\n        totalUsers,\n        adminCount,\n        userCount,\n        usersThisMonth,\n      },\n    };\n  } catch (error) {\n    console.error('getUserStatsAction Error:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to fetch user stats',\n    };\n  }\n}\n\n/**\n * Create new user (admin only)\n */\nexport async function createUserAction(data: {\n  name: string;\n  email: string;\n  password: string;\n  role: UserRole;\n  bio?: string;\n}) {\n  try {\n    await requireAdmin();\n\n    // Check if email already exists\n    const existingUser = await prisma.user.findUnique({\n      where: { email: data.email },\n    });\n\n    if (existingUser) {\n      return {\n        success: false,\n        error: 'A user with this email already exists',\n      };\n    }\n\n    // Hash password\n    const bcrypt = require('bcryptjs');\n    const hashedPassword = await bcrypt.hash(data.password, 10);\n\n    // Create user\n    const newUser = await prisma.user.create({\n      data: {\n        name: data.name,\n        email: data.email,\n        password: hashedPassword,\n        role: data.role,\n        bio: data.bio,\n      },\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        role: true,\n      },\n    });\n\n    revalidatePath('/admin/users');\n\n    return {\n      success: true,\n      message: `User \"${newUser.name}\" created successfully`,\n      data: newUser,\n    };\n  } catch (error) {\n    console.error('createUserAction Error:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to create user',\n    };\n  }\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\actions\\wishlist-actions.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":31,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\n\nimport { auth } from '@/auth';\nimport { prisma } from '@/lib/db';\nimport { revalidatePath } from 'next/cache';\n\ntype WishlistActionResult = {\n  success: boolean;\n  wishlist: string[];\n  error?: string;\n};\n\n/**\n * Get the product IDs of all items in the current user's wishlist.\n */\nexport async function getWishlistAction(): Promise<WishlistActionResult> {\n  const session = await auth();\n  if (!session?.user?.id) {\n    return { success: false, error: 'Unauthorized', wishlist: [] };\n  }\n\n  try {\n    const wishlistItems = await prisma.wishlistItem.findMany({\n      where: { userId: session.user.id },\n      select: { productId: true },\n    });\n    return {\n      success: true,\n      wishlist: wishlistItems.map((item) => item.productId),\n    };\n  } catch (error) {\n    return { success: false, error: 'Failed to fetch wishlist.', wishlist: [] };\n  }\n}\n\n/**\n * Toggle a product in the current user's wishlist.\n * Adds the product if it's not there, removes it if it is.\n * Returns the updated list of wishlist product IDs.\n */\nexport async function toggleWishlistAction(\n  productId: string,\n): Promise<WishlistActionResult> {\n  console.log('toggleWishlistAction called with productId:', productId);\n  const session = await auth();\n  console.log('toggleWishlistAction - session:', session);\n  if (!session?.user?.id) {\n    console.log('toggleWishlistAction - Not authenticated');\n    return { success: false, error: 'Unauthorized', wishlist: [] };\n  }\n  const userId = session.user.id;\n\n  try {\n    const existingItem = await prisma.wishlistItem.findUnique({\n      where: {\n        userId_productId: {\n          userId,\n          productId,\n        },\n      },\n    });\n\n    if (existingItem) {\n      // Item exists, so remove it\n      await prisma.wishlistItem.delete({\n        where: {\n          id: existingItem.id,\n        },\n      });\n    } else {\n      // Item does not exist, so add it\n      await prisma.wishlistItem.create({\n        data: {\n          userId,\n          productId,\n        },\n      });\n    }\n\n    revalidatePath('/wishlist');\n\n    // Fetch the updated wishlist\n    const updatedItems = await prisma.wishlistItem.findMany({\n      where: { userId },\n      select: { productId: true },\n    });\n\n    console.log(\n      'toggleWishlistAction - Success, updated wishlist:',\n      updatedItems.map((item) => item.productId),\n    );\n    return {\n      success: true,\n      wishlist: updatedItems.map((item) => item.productId),\n    };\n  } catch (error) {\n    console.error('Error toggling wishlist item:', error);\n    console.log('toggleWishlistAction - Failure:', error);\n    return { success: false, error: 'Operation failed.', wishlist: [] };\n  }\n}\n\n/**\n * Clears all items from the user's wishlist.\n */\nexport async function clearWishlistAction() {\n  const session = await auth();\n  if (!session?.user?.id) {\n    return { success: false, error: 'Unauthorized' };\n  }\n\n  try {\n    await prisma.wishlistItem.deleteMany({\n      where: { userId: session.user.id },\n    });\n\n    revalidatePath('/wishlist');\n\n    return { success: true, wishlist: [] };\n  } catch (error) {\n    console.error('Error clearing wishlist:', error);\n    return { success: false, error: 'Failed to clear wishlist.' };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\coupons\\new\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\coupons\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\orders\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\orders\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\products\\[id]\\edit\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\products\\new\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\products\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":87,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":87,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":99,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":99,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":127,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":127,"endColumn":19}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":64,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2224,2227],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2224,2227],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2342,2345],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2342,2345],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { auth } from '@/auth';\nimport { BulkDiscountModal } from '@/components/admin/bulk-discount-modal';\nimport { ProductsClient } from '@/components/admin/products-client';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { PaginationControls } from '@/components/ui/pagination';\nimport { prisma } from '@/lib/db';\nimport { Prisma } from '@prisma/client';\nimport { Package, PlusCircle } from 'lucide-react';\nimport { revalidatePath } from 'next/cache';\nimport Link from 'next/link';\nimport { redirect } from 'next/navigation';\n\n// 1. Update interface to use Promise for searchParams\ninterface AdminProductsPageProps {\n  searchParams: Promise<{\n    page?: string;\n    limit?: string;\n  }>;\n}\n\n// Helper to check admin access\nasync function requireAdmin() {\n  const session = await auth();\n  if (!session?.user || session.user.role !== 'ADMIN') {\n    // Better to redirect than throw error for UX\n    redirect('/');\n  }\n}\n\nexport default async function AdminProductsPage(props: AdminProductsPageProps) {\n  await requireAdmin();\n\n  // 2. Await the searchParams before accessing properties\n  const searchParams = await props.searchParams;\n\n  const page = Number(searchParams?.page) || 1;\n  const limit = Number(searchParams?.limit) || 12;\n  const skip = (page - 1) * limit;\n\n  // --- DATA FETCHING ---\n  const [rawProducts, totalCount, categories, brands] = await Promise.all([\n    prisma.product.findMany({\n      orderBy: { createdAt: 'desc' },\n      skip,\n      take: limit,\n    }),\n    prisma.product.count(),\n    prisma.product.findMany({\n      distinct: ['category'],\n      select: { category: true },\n    }),\n    prisma.product.findMany({ distinct: ['brand'], select: { brand: true } }),\n  ]);\n\n  // 3. Convert Dates to Strings for Client Component\n  // Client components often expect JSON-serializable data (strings), not Date objects\n  const products = rawProducts.map((product) => ({\n    ...product,\n    createdAt: product.createdAt.toISOString(),\n    updatedAt: product.updatedAt.toISOString(),\n    // Ensure JSON fields are typed correctly if needed\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    options: product.options as any,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    specifications: product.specifications as any,\n  }));\n\n  const totalPages = Math.ceil(totalCount / limit);\n\n  const stats = {\n    total: totalCount,\n    categories: categories.length,\n    brands: brands.length,\n    lowStock: products.filter((p) => p.stock < 10).length,\n  };\n\n  // // --- SERVER ACTIONS ---\n\n  async function deleteProductAction(id: string) {\n    'use server';\n    await requireAdmin();\n    try {\n      await prisma.product.delete({ where: { id } });\n      revalidatePath('/admin/products');\n      return { success: true, message: 'Product deleted' };\n    } catch (error) {\n      return { success: false, error: 'Failed to delete product' };\n    }\n  }\n\n  async function deleteMultipleProductsAction(ids: string[]) {\n    'use server';\n    await requireAdmin();\n    try {\n      await prisma.product.deleteMany({ where: { id: { in: ids } } });\n      revalidatePath('/admin/products');\n      return { success: true, message: `${ids.length} products deleted` };\n    } catch (error) {\n      return { success: false, error: 'Failed to delete products' };\n    }\n  }\n\n  async function applyBulkDiscountAction(data: {\n    discountType: 'all' | 'category' | 'brand';\n    category?: string;\n    brand?: string;\n    discount: number;\n  }) {\n    'use server';\n    await requireAdmin();\n    try {\n      const where: Prisma.ProductWhereInput = {};\n      if (data.discountType === 'category') where.category = data.category;\n      if (data.discountType === 'brand') where.brand = data.brand;\n\n      const result = await prisma.product.updateMany({\n        where,\n        data: { discount: data.discount },\n      });\n      revalidatePath('/admin/products');\n      return {\n        success: true,\n        message: 'Discount applied',\n        count: result.count,\n      };\n    } catch (error) {\n      return { success: false, error: 'Failed to apply discount' };\n    }\n  }\n\n  return (\n    <div className='space-y-8'>\n      {/* Header */}\n      <div className='flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4'>\n        <div className='space-y-1'>\n          <div className='flex items-center gap-2'>\n            <Package className='h-6 w-6 text-slate-600 dark:text-slate-400' />\n            <h1 className='text-3xl font-bold tracking-tight dark:text-white'>\n              Products\n            </h1>\n          </div>\n          <p className='text-slate-600 dark:text-slate-400'>\n            Manage your product catalog and inventory\n          </p>\n        </div>\n        <div className='flex gap-2'>\n          <BulkDiscountModal\n            categories={categories.map((c) => c.category)}\n            brands={brands.map((b) => b.brand)}\n            applyBulkDiscountAction={applyBulkDiscountAction}\n          />\n          <Button asChild>\n            <Link href='/admin/products/new'>\n              <PlusCircle className='h-4 w-4 mr-2' />\n              Add Product\n            </Link>\n          </Button>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className='grid grid-cols-1 sm:grid-cols-4 gap-4'>\n        <Card>\n          <CardContent className='pt-6'>\n            <div className='text-center'>\n              <p className='text-sm font-medium text-slate-600 dark:text-slate-400'>\n                Total Products\n              </p>\n              <p className='text-3xl font-bold dark:text-white mt-2'>\n                {stats.total}\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className='pt-6'>\n            <div className='text-center'>\n              <p className='text-sm font-medium text-slate-600 dark:text-slate-400'>\n                Categories\n              </p>\n              <p className='text-3xl font-bold dark:text-white mt-2'>\n                {stats.categories}\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className='pt-6'>\n            <div className='text-center'>\n              <p className='text-sm font-medium text-slate-600 dark:text-slate-400'>\n                Brands\n              </p>\n              <p className='text-3xl font-bold dark:text-white mt-2'>\n                {stats.brands}\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className='pt-6'>\n            <div className='text-center'>\n              <p className='text-sm font-medium text-slate-600 dark:text-slate-400'>\n                Low Stock\n              </p>\n              <p className='text-3xl font-bold text-orange-600 dark:text-orange-400 mt-2'>\n                {stats.lowStock}\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Products List */}\n      <Card>\n        <CardContent className='pt-6'>\n          {products.length === 0 ? (\n            <div className='text-center py-12'>\n              <Package className='h-12 w-12 mx-auto text-slate-400 mb-4' />\n              <h3 className='text-lg font-semibold dark:text-white mb-2'>\n                No products yet\n              </h3>\n              <p className='text-slate-600 dark:text-slate-400 mb-4'>\n                Get started by creating your first product\n              </p>\n              <Button asChild>\n                <Link href='/admin/products/new'>\n                  <PlusCircle className='h-4 w-4 mr-2' />\n                  Add Product\n                </Link>\n              </Button>\n            </div>\n          ) : (\n            <ProductsClient\n              products={products}\n              deleteProductAction={deleteProductAction}\n              deleteMultipleProductsAction={deleteMultipleProductsAction}\n            />\n          )}\n        </CardContent>\n      </Card>\n      <PaginationControls\n        currentPage={page}\n        totalPages={totalPages}\n        hasNextPage={page < totalPages}\n        hasPreviousPage={page > 1}\n      />\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\users\\[id]\\edit\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Edit' is defined but never used.","line":15,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":25},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":104,"column":30,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3439,3500],"text":"\n              Update the user&apos;s account details\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3439,3500],"text":"\n              Update the user&lsquo;s account details\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3439,3500],"text":"\n              Update the user&#39;s account details\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3439,3500],"text":"\n              Update the user&rsquo;s account details\n            "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// app/admin/users/[id]/edit/page.tsx\n\nimport { getUserByIdAction } from '@/actions/user-actions';\nimport { EditUserForm } from '@/components/admin/edit-user-form';\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Badge } from '@/components/ui/badge';\nimport { ArrowLeft, Edit, Shield } from 'lucide-react';\nimport Link from 'next/link';\nimport { notFound, redirect } from 'next/navigation';\nimport { auth } from '@/auth';\n\ninterface EditUserPageProps {\n  params: Promise<{ id: string }>;\n}\n\n/**\n * Edit User Page - Server Component\n * \n * Admin interface for editing user details\n */\nexport default async function EditUserPage({ params }: EditUserPageProps) {\n  // Check admin authorization\n  const session = await auth();\n  if (!session?.user || session.user.role !== 'ADMIN') {\n    redirect('/');\n  }\n\n  // Await params in Next.js 15\n  const { id } = await params;\n\n  // Fetch user data\n  const result = await getUserByIdAction(id);\n\n  if (!result.success || !result.data) {\n    notFound();\n  }\n\n  const user = result.data;\n  const isEditingSelf = session.user.id === user.id;\n\n  return (\n    <div className='container mx-auto px-4 py-8'>\n      <div className='max-w-3xl mx-auto space-y-6'>\n        {/* Header */}\n        <div className='space-y-4'>\n          <Button variant='ghost' asChild>\n            <Link href='/admin/users'>\n              <ArrowLeft className='h-4 w-4 mr-2' />\n              Back to Users\n            </Link>\n          </Button>\n\n          <div className='flex items-start gap-4'>\n            <Avatar className='h-16 w-16'>\n              <AvatarImage src={user.image || undefined} alt={user.name || 'User'} />\n              <AvatarFallback className='text-xl'>\n                {user.name?.charAt(0).toUpperCase() || 'U'}\n              </AvatarFallback>\n            </Avatar>\n            <div className='flex-1'>\n              <div className='flex items-center gap-3'>\n                <h1 className='text-3xl font-bold tracking-tight'>Edit User</h1>\n                <Badge variant={user.role === 'ADMIN' ? 'destructive' : 'secondary'}>\n                  <Shield className='h-3 w-3 mr-1' />\n                  {user.role}\n                </Badge>\n              </div>\n              <p className='text-muted-foreground mt-1'>\n                Update account information for {user.name || user.email}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Warning for editing own account */}\n        {isEditingSelf && (\n          <Card className='border-amber-200 dark:border-amber-900 bg-amber-50/50 dark:bg-amber-950/20'>\n            <CardHeader>\n              <CardTitle className='text-base flex items-center gap-2'>\n                <Shield className='h-4 w-4' />\n                Editing Your Own Account\n              </CardTitle>\n            </CardHeader>\n            <CardContent className='text-sm text-muted-foreground'>\n              You are editing your own account. Be careful when changing your role or email,\n              as this may affect your access to admin features.\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Edit Form Card */}\n        <Card>\n          <CardHeader>\n            <CardTitle>User Information</CardTitle>\n            <CardDescription>\n              Update the user's account details\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <EditUserForm user={user} isEditingSelf={isEditingSelf} />\n          </CardContent>\n        </Card>\n\n        {/* Info Card */}\n        <Card className='border-blue-200 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-950/20'>\n          <CardHeader>\n            <CardTitle className='text-base'>Important Notes</CardTitle>\n          </CardHeader>\n          <CardContent className='text-sm text-muted-foreground space-y-2'>\n            <ul className='list-disc list-inside space-y-1'>\n              <li>Email changes will require the user to verify their new email address</li>\n              <li>Role changes take effect immediately</li>\n              <li>You cannot change your own role to prevent accidental lockout</li>\n              <li>Password can only be changed by the user for security reasons</li>\n            </ul>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\users\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\users\\create\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\admin\\users\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(admin)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\(home)\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\about\\AboutContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\about\\AboutSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\about\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\account\\edit\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\account\\orders\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\account\\orders\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\account\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\api\\admin\\products\\bulk-discount\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\api\\auth\\signup\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\api\\products\\search\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\api\\subscribe\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\api\\upload\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\auth\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\careers\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\cart\\CartClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\cart\\CartSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\cart\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\checkout\\CheckoutClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":256,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":256,"endColumn":18}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":248,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":248,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6933,6936],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6933,6936],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { clearCartAction } from '@/actions/cart-actions';\nimport { createOrderAction } from '@/actions/order-actions';\nimport { CartSummary } from '@/components/cart/cart-summary';\nimport { CheckoutSteps } from '@/components/checkout/checkout-steps';\nimport {\n    Accordion,\n    AccordionContent,\n    AccordionItem,\n    AccordionTrigger,\n} from '@/components/ui/accordion';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { CartItemWithProduct, UserWithRelations } from '@/lib/types';\nimport { formatPrice } from '@/lib/utils/formatters';\nimport { getProductImage } from '@/lib/utils/product-images';\nimport { Loader2, ShoppingCart } from 'lucide-react';\nimport Image from 'next/image';\nimport { useRouter } from 'next/navigation';\nimport React, {\n    memo,\n    useCallback,\n    useMemo,\n    useState,\n    useTransition,\n} from 'react';\nimport { toast } from 'sonner';\n\ninterface ShippingInfo {\n\tfirstName: string;\n\tlastName: string;\n\taddress: string;\n\tcity: string;\n\tstate: string;\n\tzip: string;\n}\n\ninterface PaymentInfo {\n\tcardNumber: string;\n\tnameOnCard: string;\n\texpiry: string;\n\tcvc: string;\n}\n\ninterface MobileOrderSummaryProps {\n\tcart: CartItemWithProduct[];\n\tsubtotal: number;\n\tshippingCost: number;\n\ttaxes: number;\n\tdiscount: number;\n\ttotal: number;\n}\n\nconst MobileOrderSummary = memo(\n\t({\n\t\tcart,\n\t\tsubtotal,\n\t\tshippingCost,\n\t\ttaxes,\n\t\tdiscount,\n\t\ttotal,\n\t}: MobileOrderSummaryProps) => (\n\t\t<div className='lg:hidden mb-8'>\n\t\t\t<Accordion type='single' collapsible className='w-full'>\n\t\t\t\t<AccordionItem value='order-summary' className='border rounded-lg'>\n\t\t\t\t\t<AccordionTrigger className='px-6 hover:no-underline'>\n\t\t\t\t\t\t<div className='flex items-center justify-between w-full pr-4'>\n\t\t\t\t\t\t\t<div className='flex items-center gap-2'>\n\t\t\t\t\t\t\t\t<ShoppingCart className='h-5 w-5' />\n\t\t\t\t\t\t\t\t<span className='font-medium'>Order Summary</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span className='font-bold text-lg'>{formatPrice(total)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</AccordionTrigger>\n\t\t\t\t\t<AccordionContent className='px-6 pb-6'>\n\t\t\t\t\t\t<div className='border-t border-slate-200 dark:border-slate-800 pt-4'>\n\t\t\t\t\t\t\t<ul className='space-y-4 mb-4'>\n\t\t\t\t\t\t\t\t{cart.map((item) => (\n\t\t\t\t\t\t\t\t\t<li key={item.id} className='flex items-center gap-4'>\n\t\t\t\t\t\t\t\t\t\t<div className='w-16 h-16 flex shrink-0 relative rounded-md overflow-hidden border dark:border-slate-700'>\n\t\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={getProductImage(item.product)}\n\t\t\t\t\t\t\t\t\t\t\t\talt={item.product.title}\n\t\t\t\t\t\t\t\t\t\t\t\tfill\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='object-cover'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='flex-1 min-w-0'>\n\t\t\t\t\t\t\t\t\t\t\t<p className='font-medium dark:text-white truncate'>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.product.title}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className='text-sm text-slate-500 dark:text-slate-400'>\n\t\t\t\t\t\t\t\t\t\t\t\tQty: {item.quantity}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p className='text-sm font-medium dark:text-white'>\n\t\t\t\t\t\t\t\t\t\t\t{formatPrice(item.product.price * item.quantity)}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<CartSummary\n\t\t\t\t\t\t\t\tsubtotal={subtotal}\n\t\t\t\t\t\t\t\tshipping={shippingCost}\n\t\t\t\t\t\t\t\ttaxes={taxes}\n\t\t\t\t\t\t\t\tdiscount={discount}\n\t\t\t\t\t\t\t\ttotal={total}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</AccordionContent>\n\t\t\t\t</AccordionItem>\n\t\t\t</Accordion>\n\t\t</div>\n\t)\n);\nMobileOrderSummary.displayName = 'MobileOrderSummary';\n\ninterface CheckoutClientProps {\n\tcartItems: CartItemWithProduct[];\n\tuser: UserWithRelations | null;\n}\n\nexport function CheckoutClient({ cartItems, user }: CheckoutClientProps) {\n\tconst router = useRouter();\n\tconst [isPending, startTransition] = useTransition();\n\n\tconst [step, setStep] = useState(1);\n\tconst [shippingInfo, setShippingInfo] = useState<ShippingInfo>({\n\t\tfirstName: user?.name?.split(' ')[0] || '',\n\t\tlastName: user?.name?.split(' ')[1] || '',\n\t\taddress: '',\n\t\tcity: '',\n\t\tstate: '',\n\t\tzip: '',\n\t});\n\tconst [paymentInfo, setPaymentInfo] = useState<PaymentInfo>({\n\t\tcardNumber: '',\n\t\tnameOnCard: '',\n\t\texpiry: '',\n\t\tcvc: '',\n\t});\n\tconst [shippingMethod, setShippingMethod] = useState<'standard' | 'express'>(\n\t\t'standard'\n\t);\n\n\tconst appliedCoupon = user?.coupon;\n\n\tconst { subtotal, taxes, total, shippingCost, discount } = useMemo(() => {\n\t\tconst subtotal = cartItems.reduce(\n\t\t\t(sum, item) => sum + item.product.price * item.quantity,\n\t\t\t0\n\t\t);\n\n\t\tlet discount = 0;\n\t\tif (appliedCoupon) {\n\t\t\tif (appliedCoupon.type === 'PERCENTAGE') {\n\t\t\t\tdiscount = subtotal * (appliedCoupon.discount / 100);\n\t\t\t} else {\n\t\t\t\tdiscount = appliedCoupon.discount;\n\t\t\t}\n\t\t}\n\n\t\tconst discountedSubtotal = subtotal - discount;\n\t\tconst shippingCost =\n\t\t\tshippingMethod === 'express'\n\t\t\t\t? 15.0\n\t\t\t\t: discountedSubtotal > 50\n\t\t\t\t? 0\n\t\t\t\t: 5.0;\n\t\tconst taxes = discountedSubtotal * 0.08;\n\t\tconst total = discountedSubtotal + shippingCost + taxes;\n\n\t\treturn { subtotal, taxes, total, shippingCost, discount };\n\t}, [cartItems, shippingMethod, appliedCoupon]);\n\n\tconst handleShippingChange = useCallback(\n\t\t(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst { name, value } = e.target;\n\t\t\tsetShippingInfo((prev) => ({ ...prev, [name]: value }));\n\t\t},\n\t\t[]\n\t);\n\n\tconst handlePaymentChange = useCallback(\n\t\t(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst { name, value } = e.target;\n\t\t\tsetPaymentInfo((prev) => ({ ...prev, [name]: value }));\n\t\t},\n\t\t[]\n\t);\n\n\tconst isShippingValid = useMemo(\n\t\t() => Object.values(shippingInfo).every((field) => field.trim() !== ''),\n\t\t[shippingInfo]\n\t);\n\n\tconst isPaymentValid = useMemo(\n\t\t() => Object.values(paymentInfo).every((field) => field.trim() !== ''),\n\t\t[paymentInfo]\n\t);\n\n\tconst handleStepClick = useCallback((targetStep: number) => {\n\t\tsetStep(targetStep);\n\t}, []);\n\n\tconst handlePlaceOrder = useCallback(async () => {\n\t\tstartTransition(async () => {\n\t\t\tconst orderDetails = {\n\t\t\t\titems: cartItems.map((item) => ({\n\t\t\t\t\tproductId: item.productId,\n\t\t\t\t\tquantity: item.quantity,\n\t\t\t\t\tprice: item.product.price,\n\t\t\t\t\ttitle: item.product.title,\n\t\t\t\t\tthumbnail: getProductImage(item.product),\n\t\t\t\t})),\n\t\t\t\ttotal,\n\t\t\t\tsubtotal,\n\t\t\t\ttax: taxes,\n\t\t\t\tshipping: shippingCost,\n\t\t\t\tdiscount,\n\t\t\t\tcouponId: appliedCoupon?.id,\n\t\t\t\tshippingAddress: JSON.stringify({\n\t\t\t\t\tname: `${shippingInfo.firstName} ${shippingInfo.lastName}`,\n\t\t\t\t\tstreet: shippingInfo.address,\n\t\t\t\t\tcity: shippingInfo.city,\n\t\t\t\t\tstate: shippingInfo.state,\n\t\t\t\t\tzip: shippingInfo.zip,\n\t\t\t\t\tcountry: 'USA',\n\t\t\t\t}),\n\t\t\t\tbillingAddress: JSON.stringify({\n\t\t\t\t\tname: `${shippingInfo.firstName} ${shippingInfo.lastName}`,\n\t\t\t\t\tstreet: shippingInfo.address,\n\t\t\t\t\tcity: shippingInfo.city,\n\t\t\t\t\tstate: shippingInfo.state,\n\t\t\t\t\tzip: shippingInfo.zip,\n\t\t\t\t\tcountry: 'USA',\n\t\t\t\t}),\n\t\t\t\tshippingMethod: JSON.stringify({\n\t\t\t\t\tmethod: shippingMethod,\n\t\t\t\t\tcost: shippingCost,\n\t\t\t\t}),\n\t\t\t\tpaymentMethod: 'Credit Card', // Mocked\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\tconst result = await createOrderAction(orderDetails as any);\n\t\t\t\tif (result.success && result.orderId) {\n\t\t\t\t\tawait clearCartAction();\n\t\t\t\t\ttoast.success('Order placed successfully!');\n\t\t\t\t\trouter.push(`/order-confirmation?orderId=${result.orderId}`);\n\t\t\t\t} else {\n\t\t\t\t\ttoast.error(result.message || 'Failed to place order.');\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\ttoast.error('An unexpected error occurred.');\n\t\t\t}\n\t\t});\n\t}, [\n\t\tcartItems,\n\t\ttotal,\n\t\tsubtotal,\n\t\ttaxes,\n\t\tshippingCost,\n\t\tdiscount,\n\t\tappliedCoupon,\n\t\tshippingInfo,\n\t\tshippingMethod,\n\t\trouter,\n\t]);\n\n\treturn (\n\t\t<div className='bg-slate-50 min-h-[70vh] dark:bg-slate-900'>\n\t\t\t<div className='container mx-auto px-4 py-12'>\n\t\t\t\t<h1 className='text-3xl font-bold tracking-tight dark:text-white mb-2'>\n\t\t\t\t\tCheckout\n\t\t\t\t</h1>\n\t\t\t\t<p className='text-slate-600 dark:text-slate-400 mb-8'>\n\t\t\t\t\tComplete your purchase in {3 - step + 1}{' '}\n\t\t\t\t\t{3 - step + 1 === 1 ? 'step' : 'steps'}\n\t\t\t\t</p>\n\n\t\t\t\t<MobileOrderSummary\n\t\t\t\t\tcart={cartItems}\n\t\t\t\t\tsubtotal={subtotal}\n\t\t\t\t\tshippingCost={shippingCost}\n\t\t\t\t\ttaxes={taxes}\n\t\t\t\t\tdiscount={discount}\n\t\t\t\t\ttotal={total}\n\t\t\t\t/>\n\n\t\t\t\t<CheckoutSteps currentStep={step} onStepClick={handleStepClick} />\n\n\t\t\t\t<div className='mt-8 grid lg:grid-cols-3 gap-8'>\n\t\t\t\t\t<div className='lg:col-span-2 rounded-lg border bg-white p-6 shadow-sm dark:bg-slate-900 dark:border-slate-800'>\n\t\t\t\t\t\t{step === 1 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h2 className='text-xl font-semibold dark:text-white mb-6'>\n\t\t\t\t\t\t\t\t\tShipping Information\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<div className='grid grid-cols-1 sm:grid-cols-2 gap-4'>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='firstName'\n\t\t\t\t\t\t\t\t\t\tplaceholder='First Name'\n\t\t\t\t\t\t\t\t\t\tvalue={shippingInfo.firstName}\n\t\t\t\t\t\t\t\t\t\tonChange={handleShippingChange}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='lastName'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Last Name'\n\t\t\t\t\t\t\t\t\t\tvalue={shippingInfo.lastName}\n\t\t\t\t\t\t\t\t\t\tonChange={handleShippingChange}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='address'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Street Address'\n\t\t\t\t\t\t\t\t\t\tclassName='sm:col-span-2'\n\t\t\t\t\t\t\t\t\t\tvalue={shippingInfo.address}\n\t\t\t\t\t\t\t\t\t\tonChange={handleShippingChange}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='city'\n\t\t\t\t\t\t\t\t\t\tplaceholder='City'\n\t\t\t\t\t\t\t\t\t\tvalue={shippingInfo.city}\n\t\t\t\t\t\t\t\t\t\tonChange={handleShippingChange}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='state'\n\t\t\t\t\t\t\t\t\t\tplaceholder='State'\n\t\t\t\t\t\t\t\t\t\tvalue={shippingInfo.state}\n\t\t\t\t\t\t\t\t\t\tonChange={handleShippingChange}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='zip'\n\t\t\t\t\t\t\t\t\t\tplaceholder='ZIP Code'\n\t\t\t\t\t\t\t\t\t\tvalue={shippingInfo.zip}\n\t\t\t\t\t\t\t\t\t\tonChange={handleShippingChange}\n\t\t\t\t\t\t\t\t\t\tmaxLength={5}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='mt-8'>\n\t\t\t\t\t\t\t\t\t<h3 className='text-lg font-semibold dark:text-white mb-4'>\n\t\t\t\t\t\t\t\t\t\tShipping Method\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t<div className='space-y-3'>\n\t\t\t\t\t\t\t\t\t\t<label className='flex items-center gap-3 cursor-pointer p-4 border-2 rounded-lg transition-all hover:border-slate-300 dark:hover:border-slate-600 has-:checked:border-blue-600 has-:checked:bg-blue-50 dark:has-:checked:bg-blue-900 dark:border-slate-700'>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\t\t\tname='shipping'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='standard'\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={shippingMethod === 'standard'}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => setShippingMethod('standard')}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='w-4 h-4 text-blue-600'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<div className='flex-1'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='flex items-center justify-between'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='font-semibold text-slate-900 dark:text-white'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tStandard Shipping\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='font-semibold text-slate-900 dark:text-white'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{shippingCost > 0 ? formatPrice(5.0) : 'Free'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className='text-sm text-slate-600 dark:text-slate-400 mt-1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelivery in 5-7 business days\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<label className='flex items-center gap-3 cursor-pointer p-4 border-2 rounded-lg transition-all hover:border-slate-300 dark:hover:border-slate-600 has-:checked:border-blue-600 has-:checked:bg-blue-50 dark:has-:checked:bg-blue-900 dark:border-slate-700'>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\t\t\tname='shipping'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='express'\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={shippingMethod === 'express'}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => setShippingMethod('express')}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='w-4 h-4 text-blue-600'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<div className='flex-1'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='flex items-center justify-between'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='font-semibold text-slate-900 dark:text-white'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tExpress Shipping\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='font-semibold text-slate-900 dark:text-white'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatPrice(15.0)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className='text-sm text-slate-600 dark:text-slate-400 mt-1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelivery in 2-3 business days\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\tclassName='mt-8 w-full sm:w-auto'\n\t\t\t\t\t\t\t\t\tonClick={() => setStep(2)}\n\t\t\t\t\t\t\t\t\tdisabled={!isShippingValid}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tContinue to Payment\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{step === 2 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h2 className='text-xl font-semibold dark:text-white mb-6'>\n\t\t\t\t\t\t\t\t\tPayment Information\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<div className='grid grid-cols-1 sm:grid-cols-2 gap-4'>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='cardNumber'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Card Number'\n\t\t\t\t\t\t\t\t\t\tclassName='sm:col-span-2'\n\t\t\t\t\t\t\t\t\t\tvalue={paymentInfo.cardNumber}\n\t\t\t\t\t\t\t\t\t\tonChange={handlePaymentChange}\n\t\t\t\t\t\t\t\t\t\tmaxLength={16}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='nameOnCard'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Name on Card'\n\t\t\t\t\t\t\t\t\t\tclassName='sm:col-span-2'\n\t\t\t\t\t\t\t\t\t\tvalue={paymentInfo.nameOnCard}\n\t\t\t\t\t\t\t\t\t\tonChange={handlePaymentChange}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='expiry'\n\t\t\t\t\t\t\t\t\t\tplaceholder='MM/YY'\n\t\t\t\t\t\t\t\t\t\tvalue={paymentInfo.expiry}\n\t\t\t\t\t\t\t\t\t\tonChange={handlePaymentChange}\n\t\t\t\t\t\t\t\t\t\tmaxLength={5}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tname='cvc'\n\t\t\t\t\t\t\t\t\t\tplaceholder='CVC'\n\t\t\t\t\t\t\t\t\t\tvalue={paymentInfo.cvc}\n\t\t\t\t\t\t\t\t\t\tonChange={handlePaymentChange}\n\t\t\t\t\t\t\t\t\t\tmaxLength={3}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='flex flex-col sm:flex-row gap-4 mt-8'>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='outline'\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\tonClick={() => setStep(1)}\n\t\t\t\t\t\t\t\t\t\tclassName='w-full sm:w-auto'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\tonClick={() => setStep(3)}\n\t\t\t\t\t\t\t\t\t\tdisabled={!isPaymentValid}\n\t\t\t\t\t\t\t\t\t\tclassName='w-full sm:flex-1'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tReview Order\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{step === 3 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h2 className='text-xl font-semibold dark:text-white mb-6'>\n\t\t\t\t\t\t\t\t\tReview Your Order\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<div className='space-y-4'>\n\t\t\t\t\t\t\t\t\t<div className='border rounded-lg p-4 dark:border-slate-700'>\n\t\t\t\t\t\t\t\t\t\t<div className='flex items-center justify-between mb-2'>\n\t\t\t\t\t\t\t\t\t\t\t<h3 className='font-semibold dark:text-white'>\n\t\t\t\t\t\t\t\t\t\t\t\tShipping Address\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='ghost'\n\t\t\t\t\t\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setStep(1)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p className='text-slate-600 dark:text-slate-300 text-sm'>\n\t\t\t\t\t\t\t\t\t\t\t{shippingInfo.firstName} {shippingInfo.lastName}\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t{shippingInfo.address}\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t{shippingInfo.city}, {shippingInfo.state}{' '}\n\t\t\t\t\t\t\t\t\t\t\t{shippingInfo.zip}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className='text-sm text-slate-500 dark:text-slate-400 mt-2'>\n\t\t\t\t\t\t\t\t\t\t\t{shippingMethod === 'express'\n\t\t\t\t\t\t\t\t\t\t\t\t? 'Express'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'Standard'}{' '}\n\t\t\t\t\t\t\t\t\t\t\tShipping\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='border rounded-lg p-4 dark:border-slate-700'>\n\t\t\t\t\t\t\t\t\t\t<div className='flex items-center justify-between mb-2'>\n\t\t\t\t\t\t\t\t\t\t\t<h3 className='font-semibold dark:text-white'>\n\t\t\t\t\t\t\t\t\t\t\t\tPayment Method\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='ghost'\n\t\t\t\t\t\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setStep(2)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p className='text-slate-600 dark:text-slate-300 text-sm'>\n\t\t\t\t\t\t\t\t\t\t\t{paymentInfo.nameOnCard}\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\tCard ending in {paymentInfo.cardNumber.slice(-4)}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='border rounded-lg p-4 dark:border-slate-700'>\n\t\t\t\t\t\t\t\t\t\t<h3 className='font-semibold dark:text-white mb-4'>\n\t\t\t\t\t\t\t\t\t\t\tOrder Items ({cartItems.length})\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t<ul className='space-y-4'>\n\t\t\t\t\t\t\t\t\t\t\t{cartItems.map((item) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='flex items-center gap-4'\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='w-16 h-16 flex shrink-0 relative rounded-md overflow-hidden border dark:border-slate-700'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={getProductImage(item.product)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.product.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='object-cover'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='flex-1 min-w-0'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='font-medium dark:text-white truncate'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.product.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='text-sm text-slate-500 dark:text-slate-400'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tQty: {item.quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='text-sm font-semibold dark:text-white'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatPrice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.product.price * item.quantity\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='flex flex-col sm:flex-row gap-4 mt-8'>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='outline'\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\tonClick={() => setStep(2)}\n\t\t\t\t\t\t\t\t\t\tdisabled={isPending}\n\t\t\t\t\t\t\t\t\t\tclassName='w-full sm:w-auto'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\tclassName='bg-green-600 hover:bg-green-700 w-full sm:flex-1'\n\t\t\t\t\t\t\t\t\t\tonClick={handlePlaceOrder}\n\t\t\t\t\t\t\t\t\t\tdisabled={isPending}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isPending ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<Loader2 className='mr-2 h-4 w-4 animate-spin' />\n\t\t\t\t\t\t\t\t\t\t\t\tProcessing...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t'Place Order'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='hidden lg:block'>\n\t\t\t\t\t\t<CartSummary\n\t\t\t\t\t\t\tsubtotal={subtotal}\n\t\t\t\t\t\t\tshipping={shippingCost}\n\t\t\t\t\t\t\ttaxes={taxes}\n\t\t\t\t\t\t\tdiscount={discount}\n\t\t\t\t\t\t\ttotal={total}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\checkout\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\contact\\ContactContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\contact\\ContactSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\contact\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\contact\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\error.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[502,505],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[502,505],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\faq\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\order-confirmation\\page.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":165,"column":17,"nodeType":"JSXOpeningElement","endLine":169,"endColumn":19}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2277,2280],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2277,2280],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { getMyOrdersAction, getOrderByIdAction } from '@/actions/order-actions';\r\nimport AuthGuard from '@/components/auth/auth-guard';\r\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { formatOrderDate, formatPrice } from '@/lib/utils/formatters';\r\nimport {\r\n    ArrowRight,\r\n    Check,\r\n    Clock,\r\n    Mail,\r\n    Package,\r\n    ShoppingBag,\r\n} from 'lucide-react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { Suspense, useEffect, useState } from 'react';\r\nimport { toast } from 'sonner';\r\n\r\n/* ===================== Skeleton ===================== */\r\nfunction OrderConfirmationSkeleton() {\r\n  return (\r\n    <div className='container mx-auto px-4 py-20'>\r\n      <div className='max-w-4xl mx-auto space-y-10'>\r\n        <Skeleton className='h-28 w-28 rounded-full mx-auto' />\r\n        <Skeleton className='h-8 w-72 mx-auto' />\r\n        <Skeleton className='h-96 rounded-xl' />\r\n        <Skeleton className='h-64 rounded-xl' />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===================== No Order ===================== */\r\nfunction NoOrderFound() {\r\n  const router = useRouter();\r\n  return (\r\n    <div className='container mx-auto px-4 py-24 text-center space-y-8'>\r\n      <ShoppingBag className='mx-auto h-24 w-24 text-slate-300 dark:text-slate-600' />\r\n      <h2 className='text-3xl font-bold dark:text-white'>No order found</h2>\r\n      <div className='flex justify-center gap-4'>\r\n        <Button onClick={() => router.push('/products')}>\r\n          Continue Shopping\r\n        </Button>\r\n        <Button variant='outline' onClick={() => router.push('/account')}>\r\n          View Orders\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===================== Content ===================== */\r\nfunction OrderConfirmationContent() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const orderId = searchParams.get('orderId');\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [order, setOrder] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n\r\n      const res = orderId\r\n        ? await getOrderByIdAction(orderId)\r\n        : await getMyOrdersAction();\r\n\r\n      if (res.success) {\r\n        const orderData = res.data;\r\n        if (orderId) {\r\n          setOrder(orderData || null);\r\n        } else {\r\n          setOrder(Array.isArray(orderData) ? orderData[0] || null : null);\r\n        }\r\n      } else {\r\n        toast.error(res.error || 'Failed to fetch order details.');\r\n      }\r\n\r\n      setLoading(false);\r\n    })();\r\n  }, [orderId]);\r\n\r\n  if (loading) return <OrderConfirmationSkeleton />;\r\n  if (!order) return <NoOrderFound />;\r\n\r\n  return (\r\n    <div className='min-h-screen bg-linear-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900'>\r\n      <div className='container mx-auto px-4 py-20 max-w-4xl space-y-12'>\r\n        {/* Header */}\r\n        <div className='text-center space-y-6'>\r\n          <div className='relative inline-flex'>\r\n            <div className='absolute inset-0 bg-emerald-400/40 blur-2xl rounded-full' />\r\n            <div className='relative w-24 h-24 bg-linear-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center shadow-xl'>\r\n              <Check className='h-12 w-12 text-white' strokeWidth={3} />\r\n            </div>\r\n          </div>\r\n\r\n          <h1 className='text-4xl font-bold dark:text-white'>\r\n            Order Confirmed\r\n          </h1>\r\n          <p className='text-slate-600 dark:text-slate-400'>\r\n            Thanks for your purchase\r\n          </p>\r\n\r\n          <Badge variant='secondary' className='font-mono'>\r\n            #{order.id.slice(0, 12)}\r\n          </Badge>\r\n        </div>\r\n\r\n        {/* Buyer */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>User</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className='flex items-center gap-4'>\r\n            <Avatar className='h-10 w-10'>\r\n              <AvatarFallback>{order.user?.name?.[0] ?? 'U'}</AvatarFallback>\r\n            </Avatar>\r\n            <div>\r\n              <p className='font-semibold dark:text-white'>\r\n                {order.user?.name ?? 'Unknown User'}\r\n              </p>\r\n              <p className='text-sm text-slate-600 dark:text-slate-400'>\r\n                {order.user?.email}\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Summary */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Order Summary</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className='grid sm:grid-cols-2 lg:grid-cols-4 gap-6'>\r\n            <Summary label='Date' value={formatOrderDate(order.createdAt)} />\r\n            <Summary label='Items' value={`${order.items.length}`} />\r\n            <Summary label='Total' value={formatPrice(order.total)} strong />\r\n            <Summary label='Status' value={order.status} badge />\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Items */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Items in your order</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className='space-y-4'>\r\n            {order.items.map((item: {\r\n                id: string;\r\n                quantity: number;\r\n                priceAtPurchase: number;\r\n                product?: { title: string; thumbnail?: string | null };\r\n              }) => (\r\n              <div\r\n                key={item.id}\r\n                className='flex items-center gap-4 rounded-lg border p-4 dark:border-slate-800'\r\n              >\r\n                <img\r\n                  src={item.product?.thumbnail || '/placeholder.jpg'}\r\n                  alt={item.product?.title}\r\n                  className='h-16 w-16 rounded-md object-cover'\r\n                />\r\n                <div className='flex-1'>\r\n                  <p className='font-semibold dark:text-white'>\r\n                    {item.product?.title}\r\n                  </p>\r\n                  <p className='text-sm text-slate-600 dark:text-slate-400'>\r\n                    Quantity: {item.quantity}\r\n                  </p>\r\n                </div>\r\n                <p className='font-semibold dark:text-white'>\r\n                  {formatPrice(item.priceAtPurchase * item.quantity)}\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Actions */}\r\n        <div className='grid sm:grid-cols-2 gap-4'>\r\n          <Button size='lg' onClick={() => router.push('/products')}>\r\n            Continue Shopping\r\n            <ArrowRight className='ml-2 h-4 w-4' />\r\n          </Button>\r\n          <Button\r\n            size='lg'\r\n            variant='outline'\r\n            onClick={() => router.push(`/account/orders/${order.id}`)}\r\n          >\r\n            <Package className='mr-2 h-4 w-4' />\r\n            View Order Details\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Help */}\r\n        <Card className='bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-900'>\r\n          <CardContent className='pt-6 flex gap-4'>\r\n            <div className='h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center'>\r\n              <Mail className='h-5 w-5 text-white' />\r\n            </div>\r\n            <div>\r\n              <p className='font-semibold text-blue-900 dark:text-blue-100'>\r\n                Need help?\r\n              </p>\r\n              <p className='text-sm text-blue-800 dark:text-blue-200'>\r\n                Contact support@example.com\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===================== Helpers ===================== */\r\nfunction Summary({\r\n  label,\r\n  value,\r\n  strong,\r\n  badge,\r\n}: {\r\n  label: string;\r\n  value: string;\r\n  strong?: boolean;\r\n  badge?: boolean;\r\n}) {\r\n  return (\r\n    <div>\r\n      <p className='text-sm text-slate-500 dark:text-slate-400'>{label}</p>\r\n      {badge ? (\r\n        <Badge variant='outline' className='mt-1'>\r\n          <Clock className='h-3 w-3 mr-1' />\r\n          {value}\r\n        </Badge>\r\n      ) : (\r\n        <p\r\n          className={`mt-1 ${\r\n            strong\r\n              ? 'text-2xl font-bold dark:text-white'\r\n              : 'font-medium dark:text-white'\r\n          }`}\r\n        >\r\n          {value}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===================== Page ===================== */\r\nexport default function OrderConfirmationPage() {\r\n  return (\r\n    <AuthGuard>\r\n      <Suspense fallback={<OrderConfirmationSkeleton />}>\r\n        <OrderConfirmationContent />\r\n      </Suspense>\r\n    </AuthGuard>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\orders\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\privacy\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\products\\[id]\\ProductDetailContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\products\\[id]\\ProductDetailSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\products\\[id]\\ProductPurchaseManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\products\\[id]\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\products\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\products\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\products\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isProductLoading' is assigned a value but never used.","line":15,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { getFiltersAction, getProductsAction } from '@/actions/product-actions';\nimport { ProductGrid } from '@/components/product/product-grid'; // Check case: product-grid vs ProductGrid\nimport { ProductWithImages, SortKey } from '@/lib/types';\nimport { useSearchParams } from 'next/navigation';\nimport { useEffect, useState } from 'react';\n\nconst ProductsPage = () => {\n  const searchParams = useSearchParams();\n\n  // Product Data States\n  const [products, setProducts] = useState<ProductWithImages[]>([]);\n  const [totalCount, setTotalCount] = useState(0);\n  const [isProductLoading, setIsProductLoading] = useState(true);\n\n  // Filter Data States (Fetch once and keep)\n  const [allCategories, setAllCategories] = useState<string[]>([]);\n  const [allBrands, setAllBrands] = useState<string[]>([]);\n  const [filtersLoaded, setFiltersLoaded] = useState(false);\n\n  // 1. Fetch Categories and Brands ONLY ONCE on mount\n  useEffect(() => {\n    const fetchFilters = async () => {\n      try {\n        const filters = await getFiltersAction();\n        setAllCategories(filters.categories);\n        setAllBrands(filters.brands);\n        setFiltersLoaded(true);\n      } catch (error) {\n        console.error('Failed to load filters', error);\n      }\n    };\n\n    fetchFilters();\n  }, []);\n\n  // 2. Fetch Products whenever searchParams change\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setIsProductLoading(true);\n      const params = searchParams || new URLSearchParams();\n\n      const query = (params.get('search') as string) || '';\n      const categories = (params.get('categories') as string) || '';\n      const brands = (params.get('brands') as string) || '';\n      const minPrice = Number(params.get('minPrice')) || undefined;\n      const maxPrice = Number(params.get('maxPrice')) || undefined;\n      const sort = (params.get('sort') as SortKey) || 'featured';\n      const page = Number(params.get('page')) || 1;\n\n      try {\n        const { products: newProducts, totalCount: newTotal } =\n          await getProductsAction({\n            query,\n            categories,\n            brands,\n            minPrice,\n            maxPrice,\n            sort,\n            page,\n            limit: 8,\n          });\n\n        setProducts(newProducts);\n        setTotalCount(newTotal);\n      } catch (error) {\n        console.error('Failed to load products', error);\n      } finally {\n        setIsProductLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [searchParams]);\n\n  const params = searchParams || new URLSearchParams();\n  const query = (params.get('search') as string) || '';\n  const categories = (params.get('categories') as string) || '';\n  const brands = (params.get('brands') as string) || '';\n  const minPrice = Number(params.get('minPrice')) || undefined;\n  const maxPrice = Number(params.get('maxPrice')) || undefined;\n  const sort = (params.get('sort') as SortKey) || 'featured';\n  const page = Number(params.get('page')) || 1;\n\n  // Only use the full screen loader for the INITIAL load of filters\n  // Do NOT use it for subsequent product filtering\n  if (!filtersLoaded) {\n    // You can use your LoadingOverlay here if you want a full screen load initially\n    return (\n      <div className='min-h-screen flex items-center justify-center'>\n        Loading...\n      </div>\n    );\n  }\n\n  return (\n    <ProductGrid\n      // Data\n      products={products}\n      totalCount={totalCount}\n      // Filter Lists (Passed from the one-time fetch)\n      allCategories={allCategories}\n      allBrands={allBrands}\n      // Current State (from URL)\n      currentPage={page}\n      currentCategories={categories}\n      currentBrands={brands}\n      currentMinPrice={minPrice}\n      currentMaxPrice={maxPrice}\n      currentSort={sort}\n      searchQuery={query}\n    />\n  );\n};\n\nexport default ProductsPage;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\services\\ServicesContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\services\\ServicesSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\services\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\services\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\shipping\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\wishlist\\WishlistClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\app\\wishlist\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\auth.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ActiveFiltersBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ActiveFiltersHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\BrandFilter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\CategoryFilter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\FilterLoadingIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\MobileFilterSheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\PriceFilter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\account\\AccountNavButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\account\\AccountStats.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\account\\edit-user-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\account\\edit-user-page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":239,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":239,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8242,8245],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8242,8245],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":251,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":251,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8694,8697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8694,8697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":252,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":252,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8751,8754],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8751,8754],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { updateProfileAction } from '@/actions/auth-actions';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Separator } from '@/components/ui/separator';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport {\n  ArrowLeft,\n  Calendar,\n  Camera,\n  Mail,\n  Shield,\n  User as UserIcon\n} from 'lucide-react';\nimport { useSession } from 'next-auth/react';\nimport Link from 'next/link';\nimport { useState, useTransition } from 'react';\nimport { toast } from 'sonner';\nimport { EditProfileForm, EditProfileFormValues } from './edit-user-form';\n\n/**\n * Loading State Component\n */\nfunction ProfileSkeleton() {\n  return (\n    <div className='space-y-6'>\n      <Skeleton className='h-32 w-32 rounded-full mx-auto' />\n      <Skeleton className='h-10 w-full' />\n      <Skeleton className='h-32 w-full' />\n      <Skeleton className='h-10 w-40' />\n    </div>\n  );\n}\n\n/**\n * Edit Profile Page Component\n * \n * Modern profile editing with:\n * - Avatar upload\n * - Profile statistics\n * - Account information\n * - Bio editing\n */\nexport default function EditProfilePage() {\n  const { data: session, status, update } = useSession();\n  const [isPending, startTransition] = useTransition();\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n\n  const handleUpdateProfile = async (values: EditProfileFormValues) => {\n    startTransition(async () => {\n      try {\n        const result = await updateProfileAction({\n          ...values,\n          image: imagePreview || undefined,\n        });\n\n        if (result.success) {\n          toast.success('Profile updated successfully');\n          \n          // Update session with new data\n          await update({\n            ...session,\n            user: {\n              ...session?.user,\n              name: result.user?.name,\n              bio: result.user?.bio,\n              image: imagePreview || session?.user?.image,\n            },\n          });\n        } else {\n          toast.error(result.message || 'Failed to update profile');\n        }\n      } catch (error) {\n        console.error('Profile update error:', error);\n        toast.error('An unexpected error occurred');\n      }\n    });\n  };\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        toast.error('Image must be less than 5MB');\n        return;\n      }\n\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  if (status === 'loading') {\n    return (\n      <div className='min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950'>\n        <div className='container mx-auto px-4 py-12'>\n          <ProfileSkeleton />\n        </div>\n      </div>\n    );\n  }\n\n  if (status === 'unauthenticated' || !session?.user) {\n    return (\n      <div className='min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900'>\n        <Card className='w-full max-w-md'>\n          <CardContent className='pt-6 text-center'>\n            <UserIcon className='h-12 w-12 mx-auto text-slate-400 mb-4' />\n            <h3 className='text-lg font-semibold mb-2'>Authentication Required</h3>\n            <p className='text-muted-foreground mb-4'>\n              Please sign in to view your profile\n            </p>\n            <Link href='/auth'>\n              <Button>Sign In</Button>\n            </Link>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const user = session.user;\n  const userInitials = user.name\n    ? user.name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2)\n    : 'U';\n\n  return (\n    <div className='min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950'>\n      <div className='container mx-auto px-4 py-8 sm:py-12'>\n        {/* Header */}\n        <div className='mb-8'>\n          <Link href='/account'>\n            <Button variant='ghost' className='mb-4 -ml-2'>\n              <ArrowLeft className='h-4 w-4 mr-2' />\n              Back to Account\n            </Button>\n          </Link>\n          \n          <h1 className='text-3xl sm:text-4xl font-bold tracking-tight bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-300 bg-clip-text text-transparent'>\n            Edit Profile\n          </h1>\n          <p className='text-muted-foreground mt-2'>\n            Manage your account information and preferences\n          </p>\n        </div>\n\n        <div className='grid lg:grid-cols-3 gap-8'>\n          {/* Left Column - Avatar & Account Info */}\n          <div className='space-y-6'>\n            {/* Avatar Card */}\n            <Card>\n              <CardHeader>\n                <CardTitle className='text-lg'>Profile Picture</CardTitle>\n                <CardDescription>\n                  Upload a photo to personalize your account\n                </CardDescription>\n              </CardHeader>\n              <CardContent className='space-y-4'>\n                <div className='flex flex-col items-center'>\n                  <div className='relative group'>\n                    <Avatar className='h-32 w-32 border-4 border-white dark:border-slate-800 shadow-xl'>\n                      <AvatarImage \n                        src={imagePreview || user.image || undefined} \n                        alt={user.name || 'User'} \n                      />\n                      <AvatarFallback className='text-3xl bg-gradient-to-br from-blue-500 to-purple-500 text-white'>\n                        {userInitials}\n                      </AvatarFallback>\n                    </Avatar>\n                    \n                    {/* Upload Overlay */}\n                    <label \n                      htmlFor='avatar-upload'\n                      className='absolute inset-0 flex items-center justify-center bg-black/60 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer'\n                    >\n                      <Camera className='h-8 w-8 text-white' />\n                    </label>\n                    <input\n                      id='avatar-upload'\n                      type='file'\n                      accept='image/*'\n                      onChange={handleImageChange}\n                      className='hidden'\n                    />\n                  </div>\n                  \n                  <p className='text-xs text-muted-foreground mt-4 text-center'>\n                    Click to upload  Max 5MB\n                  </p>\n                </div>\n\n                {imagePreview && (\n                  <Button\n                    variant='outline'\n                    size='sm'\n                    onClick={() => setImagePreview(null)}\n                    className='w-full'\n                  >\n                    Remove Photo\n                  </Button>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Account Info Card */}\n            <Card>\n              <CardHeader>\n                <CardTitle className='text-lg'>Account Details</CardTitle>\n              </CardHeader>\n              <CardContent className='space-y-4'>\n                <div className='space-y-1'>\n                  <div className='flex items-center gap-2 text-sm text-muted-foreground'>\n                    <Mail className='h-4 w-4' />\n                    <span>Email</span>\n                  </div>\n                  <p className='font-medium truncate'>{user.email}</p>\n                </div>\n\n                <Separator />\n\n                <div className='space-y-1'>\n                  <div className='flex items-center gap-2 text-sm text-muted-foreground'>\n                    <Shield className='h-4 w-4' />\n                    <span>Role</span>\n                  </div>\n                  <Badge variant='secondary' className='capitalize'>\n                    {(user as any).role?.toLowerCase() || 'User'}\n                  </Badge>\n                </div>\n\n                <Separator />\n\n                <div className='space-y-1'>\n                  <div className='flex items-center gap-2 text-sm text-muted-foreground'>\n                    <Calendar className='h-4 w-4' />\n                    <span>Member Since</span>\n                  </div>\n                  <p className='font-medium'>\n                    {(user as any).createdAt\n                      ? new Date((user as any).createdAt).toLocaleDateString('en-US', {\n                          month: 'long',\n                          year: 'numeric',\n                        })\n                      : 'N/A'}\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Right Column - Edit Form */}\n          <div className='lg:col-span-2'>\n            <Card>\n              <CardHeader>\n                <CardTitle>Personal Information</CardTitle>\n                <CardDescription>\n                  Update your profile details and bio\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <EditProfileForm\n                  user={user}\n                  onSubmit={handleUpdateProfile}\n                  isSubmitting={isPending}\n                />\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\CouponForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2819,2822],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2819,2822],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { createCouponAction } from '@/actions/coupon-actions';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from '@/components/ui/select';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useState, useTransition } from 'react';\r\nimport { toast } from 'sonner';\r\n\r\nexport default function CouponForm() {\r\n  const router = useRouter();\r\n  const [isPending, startTransition] = useTransition();\r\n  const [formData, setFormData] = useState({\r\n    code: '',\r\n    discount: '',\r\n    type: 'PERCENTAGE' as 'PERCENTAGE' | 'FIXED',\r\n    expiresAt: '',\r\n    isActive: true,\r\n  });\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.code || !formData.discount) {\r\n      toast.error('Code and discount are required');\r\n      return;\r\n    }\r\n\r\n    startTransition(async () => {\r\n      const result = await createCouponAction({\r\n        code: formData.code,\r\n        discount: parseFloat(formData.discount),\r\n        type: formData.type,\r\n        expiresAt: formData.expiresAt ? new Date(formData.expiresAt) : null,\r\n        isActive: formData.isActive,\r\n      });\r\n\r\n      if (result.success) {\r\n        toast.success(result.message);\r\n        router.push('/admin/coupons');\r\n      } else {\r\n        toast.error(result.message);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"max-w-2xl mx-auto shadow-lg\">\r\n      <CardHeader className=\"border-b bg-muted/50\">\r\n        <CardTitle>Create New Coupon</CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"pt-6\">\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"code\" className=\"text-sm font-semibold\">Coupon Code</Label>\r\n            <Input\r\n              id=\"code\"\r\n              placeholder=\"e.g. SUMMER25\"\r\n              value={formData.code}\r\n              onChange={(e) => setFormData({ ...formData, code: e.target.value })}\r\n              className=\"uppercase font-mono h-12 text-lg\"\r\n              autoComplete=\"off\"\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">Unique identifier used by customers at checkout.</p>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"type\" className=\"text-sm font-semibold\">Discount Type</Label>\r\n              <Select\r\n                value={formData.type}\r\n                onValueChange={(value: any) => setFormData({ ...formData, type: value })}\r\n              >\r\n                <SelectTrigger className=\"h-11\">\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"PERCENTAGE\">Percentage (%)</SelectItem>\r\n                  <SelectItem value=\"FIXED\">Fixed Amount ($)</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"discount\" className=\"text-sm font-semibold\">Discount Value</Label>\r\n              <div className=\"relative\">\r\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\">\r\n                  {formData.type === 'FIXED' ? '$' : '%'}\r\n                </span>\r\n                <Input\r\n                  id=\"discount\"\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  placeholder={formData.type === 'PERCENTAGE' ? '10' : '5.00'}\r\n                  value={formData.discount}\r\n                  onChange={(e) => setFormData({ ...formData, discount: e.target.value })}\r\n                  className=\"pl-8 h-11\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"expiresAt\" className=\"text-sm font-semibold\">Expiry Date (Optional)</Label>\r\n            <Input\r\n              id=\"expiresAt\"\r\n              type=\"datetime-local\"\r\n              value={formData.expiresAt}\r\n              onChange={(e) => setFormData({ ...formData, expiresAt: e.target.value })}\r\n              className=\"h-11\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between p-4 rounded-lg bg-muted/30 border\">\r\n            <div className=\"space-y-0.5\">\r\n              <Label htmlFor=\"isActive\" className=\"text-base font-semibold\">Active Status</Label>\r\n              <p className=\"text-sm text-muted-foreground\">Determine if this coupon can be used immediately.</p>\r\n            </div>\r\n            <Switch\r\n              id=\"isActive\"\r\n              checked={formData.isActive}\r\n              onCheckedChange={(checked: boolean) => setFormData({ ...formData, isActive: checked })}\r\n              className=\"data-[state=checked]:bg-primary\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-4 pt-4 border-t\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => router.back()}\r\n              disabled={isPending}\r\n              className=\"h-11 px-8\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isPending} className=\"h-11 px-10 font-bold\">\r\n              {isPending ? 'Creating...' : 'Create Coupon'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\CouponsClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[733,736],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[733,736],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { Button } from '@/components/ui/button';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { Plus, Ticket } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { CouponsDataTable } from './coupons-data-table';\r\n\r\nexport function CouponsListSkeleton() {\r\n  return (\r\n    <div className='space-y-8'>\r\n      <div className='flex items-center justify-between'>\r\n        <div className='space-y-2'>\r\n          <Skeleton className='h-8 w-48' />\r\n          <Skeleton className='h-4 w-64' />\r\n        </div>\r\n        <Skeleton className='h-10 w-32' />\r\n      </div>\r\n      <Skeleton className='h-96 w-full' />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function CouponsClient({ coupons }: { coupons: any[] }) {\r\n  return (\r\n    <div className='space-y-8'>\r\n      <div className='flex items-center justify-between'>\r\n        <div className='space-y-1'>\r\n          <div className='flex items-center gap-2'>\r\n            <Ticket className='h-6 w-6 text-slate-600 dark:text-slate-400' />\r\n            <h1 className='text-3xl font-bold tracking-tight'>Coupons</h1>\r\n          </div>\r\n          <p className='text-slate-600 dark:text-slate-400'>\r\n            Manage discount codes and promotional offers\r\n          </p>\r\n        </div>\r\n        <Button asChild>\r\n          <Link href=\"/admin/coupons/new\">\r\n            <Plus className=\"mr-2 h-4 w-4\" />\r\n            New Coupon\r\n          </Link>\r\n        </Button>\r\n      </div>\r\n\r\n      <CouponsDataTable coupons={coupons} />\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\DashboardClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\admin-sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\bulk-discount-manager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\bulk-discount-modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\coupons-data-table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\dashboard-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\delete-product-button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\edit-product-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\edit-user-form.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":116,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3118,3200],"text":"\r\n                The user&apos;s full name as it appears in the system\r\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3118,3200],"text":"\r\n                The user&lsquo;s full name as it appears in the system\r\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3118,3200],"text":"\r\n                The user&#39;s full name as it appears in the system\r\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3118,3200],"text":"\r\n                The user&rsquo;s full name as it appears in the system\r\n              "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { updateUserAction } from '@/actions/user-actions';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from '@/components/ui/form';\r\nimport { Input } from '@/components/ui/input';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { User } from '@/lib/types';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { Loader2, Save } from 'lucide-react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useTransition } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { toast } from 'sonner';\r\nimport * as z from 'zod';\r\n\r\n/**\r\n * Form validation schema\r\n */\r\nconst editUserFormSchema = z.object({\r\n  name: z.string().min(2, 'Name must be at least 2 characters'),\r\n  email: z.string().email('Invalid email address'),\r\n  role: z.enum(['USER', 'ADMIN']),\r\n  bio: z.string().optional(),\r\n});\r\n\r\ntype EditUserFormValues = z.infer<typeof editUserFormSchema>;\r\n\r\ninterface EditUserFormProps {\r\n  user: User;\r\n  isEditingSelf?: boolean;\r\n}\r\n\r\n/**\r\n * Edit User Form Component\r\n *\r\n * Form for editing existing user details\r\n */\r\nexport function EditUserForm({\r\n  user,\r\n  isEditingSelf = false,\r\n}: EditUserFormProps) {\r\n  const router = useRouter();\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  const form = useForm<EditUserFormValues>({\r\n    resolver: zodResolver(editUserFormSchema),\r\n    defaultValues: {\r\n      name: user.name || '',\r\n      email: user.email || '',\r\n      role: user.role || 'USER',\r\n      bio: user.bio || '',\r\n    },\r\n  });\r\n\r\n  /**\r\n   * Handle form submission\r\n   */\r\n  const onSubmit = async (values: EditUserFormValues) => {\r\n    startTransition(async () => {\r\n      try {\r\n        const result = await updateUserAction(user.id, {\r\n          name: values.name,\r\n          email: values.email,\r\n          role: values.role,\r\n          bio: values.bio,\r\n        });\r\n\r\n        if (result.success) {\r\n          toast.success(result.message || 'User updated successfully');\r\n          router.push('/admin/users');\r\n          router.refresh();\r\n        } else {\r\n          toast.error(result.error || 'Failed to update user');\r\n        }\r\n      } catch (error) {\r\n        console.error('Update user error:', error);\r\n        toast.error(\r\n          error instanceof Error\r\n            ? error.message\r\n            : 'An unexpected error occurred',\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)} className='space-y-6'>\r\n        {/* Name Field */}\r\n        <FormField\r\n          control={form.control}\r\n          name='name'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Full Name</FormLabel>\r\n              <FormControl>\r\n                <Input placeholder='John Doe' {...field} disabled={isPending} />\r\n              </FormControl>\r\n              <FormDescription>\r\n                The user's full name as it appears in the system\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Email Field */}\r\n        <FormField\r\n          control={form.control}\r\n          name='email'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Email Address</FormLabel>\r\n              <FormControl>\r\n                <Input\r\n                  type='email'\r\n                  placeholder='john@example.com'\r\n                  {...field}\r\n                  disabled={isPending}\r\n                />\r\n              </FormControl>\r\n              <FormDescription>\r\n                Changing email will require re-verification\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Role Field */}\r\n        <FormField\r\n          control={form.control}\r\n          name='role'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Account Role</FormLabel>\r\n              <Select\r\n                onValueChange={field.onChange}\r\n                defaultValue={field.value}\r\n                disabled={isPending || isEditingSelf}\r\n              >\r\n                <FormControl>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder='Select a role' />\r\n                  </SelectTrigger>\r\n                </FormControl>\r\n                <SelectContent>\r\n                  <SelectItem value='USER'>User (Standard Access)</SelectItem>\r\n                  <SelectItem value='ADMIN'>Admin (Full Access)</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n              <FormDescription>\r\n                {isEditingSelf\r\n                  ? 'You cannot change your own role'\r\n                  : 'Admin users have full access to all features'}\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Bio Field */}\r\n        <FormField\r\n          control={form.control}\r\n          name='bio'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel>Biography (Optional)</FormLabel>\r\n              <FormControl>\r\n                <Textarea\r\n                  placeholder='Tell us a bit about this user...'\r\n                  className='resize-none'\r\n                  rows={4}\r\n                  {...field}\r\n                  disabled={isPending}\r\n                />\r\n              </FormControl>\r\n              <FormDescription>\r\n                Optional biography or notes about the user\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Action Buttons */}\r\n        <div className='flex justify-end gap-4 pt-4'>\r\n          <Button\r\n            type='button'\r\n            variant='outline'\r\n            onClick={() => router.push('/admin/users')}\r\n            disabled={isPending}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type='submit' disabled={isPending}>\r\n            {isPending ? (\r\n              <>\r\n                <Loader2 className='h-4 w-4 mr-2 animate-spin' />\r\n                Saving Changes...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Save className='h-4 w-4 mr-2' />\r\n                Save Changes\r\n              </>\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </Form>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\order-details-client.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'orderWithDetails' is assigned a value but only used as a type.","line":58,"column":7,"nodeType":null,"messageId":"usedOnlyAsType","endLine":58,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'billingAddress' is assigned a value but never used.","line":192,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":192,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport {\n    AlertDialog,\n    AlertDialogAction,\n    AlertDialogCancel,\n    AlertDialogContent,\n    AlertDialogDescription,\n    AlertDialogFooter,\n    AlertDialogHeader,\n    AlertDialogTitle,\n    AlertDialogTrigger,\n} from '@/components/ui/alert-dialog';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport {\n    Card,\n    CardContent,\n    CardDescription,\n    CardHeader,\n    CardTitle,\n} from '@/components/ui/card';\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from '@/components/ui/select';\nimport { Separator } from '@/components/ui/separator';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport {\n    formatDateTime,\n    formatOrderDate,\n    formatPrice,\n} from '@/lib/utils/formatters';\nimport { Prisma } from '@prisma/client';\nimport {\n    ArrowLeft,\n    Calendar,\n    CreditCard,\n    Download,\n    Loader2,\n    Mail,\n    MapPin,\n    Package,\n    Phone,\n    Printer,\n    Trash2,\n    Truck,\n    User,\n} from 'lucide-react';\nimport Image from 'next/image';\nimport { useRouter } from 'next/navigation';\nimport { useTransition } from 'react';\nimport { toast } from 'sonner';\n\nconst orderWithDetails = Prisma.validator<Prisma.OrderDefaultArgs>()({\n  include: { user: true, items: true },\n});\n\nexport type OrderWithDetails = Prisma.OrderGetPayload<typeof orderWithDetails>;\n\ntype OrderStatus = OrderWithDetails['status'];\n\n/**\n * Get status badge variant\n */\nconst getStatusVariant = (\n  status: OrderStatus,\n): 'default' | 'secondary' | 'destructive' | 'outline' => {\n  const variants: Partial<\n    Record<OrderStatus, 'default' | 'secondary' | 'destructive' | 'outline'>\n  > = {\n    Pending: 'secondary',\n    Processing: 'secondary',\n    Shipped: 'default',\n    Delivered: 'outline',\n    Cancelled: 'destructive',\n  };\n  return variants[status] || 'default';\n};\n\n/**\n * Order details skeleton\n */\nexport function OrderDetailsSkeleton() {\n  return (\n    <div className='space-y-6'>\n      <div className='flex items-center justify-between'>\n        <div className='space-y-2'>\n          <Skeleton className='h-8 w-64' />\n          <Skeleton className='h-4 w-48' />\n        </div>\n        <Skeleton className='h-10 w-32' />\n      </div>\n      <div className='grid lg:grid-cols-3 gap-6'>\n        <div className='lg:col-span-2 space-y-6'>\n          <Skeleton className='h-64' />\n          <Skeleton className='h-96' />\n        </div>\n        <div className='space-y-6'>\n          {[1, 2, 3, 4].map((i) => (\n            <Skeleton key={i} className='h-32' />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\ninterface OrderDetailsClientProps {\n  order: OrderWithDetails | null;\n  updateOrderStatusAction: (\n    status: 'Pending' | 'Processing' | 'Shipped' | 'Delivered' | 'Cancelled',\n  ) => Promise<{\n    success: boolean;\n    error?: string;\n  }>;\n  deleteOrderAction: () => Promise<{\n    success: boolean;\n    error?: string;\n  }>;\n}\n\n/**\n * Order details content\n */\nexport default function OrderDetailsClient({\n  order,\n  updateOrderStatusAction,\n  deleteOrderAction,\n}: OrderDetailsClientProps) {\n  const router = useRouter();\n  const [isPending, startTransition] = useTransition();\n\n  const handleStatusChange = async (newStatus: OrderStatus) => {\n    if (!order) return;\n    startTransition(async () => {\n      const result = await updateOrderStatusAction(newStatus);\n      if (result.success) {\n        toast.success(`Order status updated to ${newStatus}`);\n      } else {\n        toast.error(result.error);\n      }\n    });\n  };\n\n  const handlePrint = () => {\n    window.print();\n    toast.success('Print dialog opened');\n  };\n\n  const handleDownload = () => {\n    toast.success('Invoice download started');\n    // Implement invoice download logic\n  };\n\n  const handleDelete = async () => {\n    if (!order) return;\n    startTransition(async () => {\n      const result = await deleteOrderAction();\n      if (result.success) {\n        toast.success('Order has been deleted.');\n        router.push('/admin/orders');\n      } else {\n        toast.error(result.error);\n      }\n    });\n  };\n\n  if (!order) {\n    return (\n      <div className='flex flex-col items-center justify-center min-h-[50vh] space-y-4'>\n        <Package className='h-16 w-16 text-slate-300 dark:text-slate-600' />\n        <h2 className='text-2xl font-bold dark:text-white'>Order Not Found</h2>\n        <p className='text-slate-600 dark:text-slate-400 text-center max-w-md'>\n          The order you&apos;re looking for doesn&apos;t exist or has been removed.\n        </p>\n        <Button onClick={() => router.push('/admin/orders')}>\n          <ArrowLeft className='h-4 w-4 mr-2' />\n          Back to Orders\n        </Button>\n      </div>\n    );\n  }\n\n  const shippingAddress =\n    typeof order.shippingAddress === 'string'\n      ? JSON.parse(order.shippingAddress)\n      : order.shippingAddress;\n  const billingAddress =\n    typeof order.billingAddress === 'string'\n      ? JSON.parse(order.billingAddress)\n      : order.billingAddress;\n\n  return (\n    <div className='space-y-6'>\n      {/* Header */}\n      <div className='flex items-center justify-between'>\n        <div className='space-y-1'>\n          <div className='flex items-center gap-3'>\n            <Button\n              variant='ghost'\n              size='icon'\n              onClick={() => router.push('/admin/orders')}\n            >\n              <ArrowLeft className='h-5 w-5' />\n            </Button>\n            <h1 className='text-2xl font-bold dark:text-white'>\n              Order #{order.id.slice(0, 12)}\n            </h1>\n          </div>\n          <p className='text-sm text-slate-600 dark:text-slate-400 ml-12 flex items-center gap-2'>\n            <Calendar className='h-4 w-4' />\n            {formatDateTime(order.createdAt.toString())}\n          </p>\n        </div>\n\n        <div className='flex items-center gap-2'>\n          <Button variant='outline' size='sm' onClick={handlePrint}>\n            <Printer className='h-4 w-4 mr-2' />\n            Print\n          </Button>\n          <Button variant='outline' size='sm' onClick={handleDownload}>\n            <Download className='h-4 w-4 mr-2' />\n            Invoice\n          </Button>\n          <AlertDialog>\n            <AlertDialogTrigger asChild>\n              <Button variant='destructive' size='sm' disabled={isPending}>\n                <Trash2 className='h-4 w-4 mr-2' />\n                Delete\n              </Button>\n            </AlertDialogTrigger>\n            <AlertDialogContent>\n              <AlertDialogHeader>\n                <AlertDialogTitle>Delete Order</AlertDialogTitle>\n                <AlertDialogDescription>\n                  Are you sure you want to delete this order? This action cannot\n                  be undone.\n                </AlertDialogDescription>\n              </AlertDialogHeader>\n              <AlertDialogFooter>\n                <AlertDialogCancel>Cancel</AlertDialogCancel>\n                <AlertDialogAction onClick={handleDelete} disabled={isPending}>\n                  {isPending ? (\n                    <Loader2 className='mr-2 h-4 w-4 animate-spin' />\n                  ) : null}\n                  Delete\n                </AlertDialogAction>\n              </AlertDialogFooter>\n            </AlertDialogContent>\n          </AlertDialog>\n        </div>\n      </div>\n\n      <div className='grid lg:grid-cols-3 gap-6'>\n        {/* Main Content */}\n        <div className='lg:col-span-2 space-y-6'>\n          {/* Status Card */}\n          <Card>\n            <CardHeader>\n              <div className='flex items-start justify-between'>\n                <div>\n                  <CardTitle>Order Status</CardTitle>\n                  <CardDescription className='mt-2'>\n                    Update the order fulfillment status\n                  </CardDescription>\n                </div>\n                <Badge variant={getStatusVariant(order.status)}>\n                  {order.status}\n                </Badge>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <Select\n                value={order.status}\n                onValueChange={(value) =>\n                  handleStatusChange(value as OrderStatus)\n                }\n                disabled={isPending}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value='Pending'>Pending</SelectItem>\n                  <SelectItem value='Processing'>Processing</SelectItem>\n                  <SelectItem value='Shipped'>Shipped</SelectItem>\n                  <SelectItem value='Delivered'>Delivered</SelectItem>\n                  <SelectItem value='Cancelled'>Cancelled</SelectItem>\n                </SelectContent>\n              </Select>\n            </CardContent>\n          </Card>\n\n          {/* Order Items */}\n          <Card>\n            <CardHeader>\n              <CardTitle className='flex items-center gap-2'>\n                <Package className='h-5 w-5' />\n                Order Items ({order.items.length})\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className='space-y-4'>\n                {order.items.map((item, index) => (\n                  <div key={item.id}>\n                    {index > 0 && <Separator />}\n                    <div className='flex items-center gap-4 py-2'>\n                      <div className='w-16 h-16 relative rounded-md overflow-hidden border dark:border-slate-700'>\n                        <Image\n                          src={item.thumbnail || '/images/placeholder.jpg'}\n                          alt={item.title || 'Product Image'}\n                          fill\n                          className='object-cover'\n                        />\n                      </div>\n                      <div className='flex-1'>\n                        <p className='font-medium dark:text-white'>\n                          {item.title}\n                        </p>\n                        <div className='flex items-center gap-4 text-sm text-slate-500 dark:text-slate-400 mt-1'>\n                          <span>Qty: {item?.quantity}</span>\n                          <span>{formatPrice(item.price)} each</span>\n                        </div>\n                      </div>\n                      <p className='font-semibold dark:text-white'>\n                        {formatPrice(item?.price * item?.quantity)}\n                      </p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              <Separator className='my-4' />\n\n              <div className='space-y-2'>\n                <div className='flex justify-between text-sm'>\n                  <span className='text-slate-600 dark:text-slate-400'>\n                    Subtotal\n                  </span>\n                  <span className='font-medium dark:text-white'>\n                    {formatPrice(order.subtotal)}\n                  </span>\n                </div>\n                <div className='flex justify-between items-center text-sm'>\n                  <span className='text-slate-600 dark:text-slate-400 flex items-center gap-2'>\n                    <Truck className='h-4 w-4' />\n                    Shipping\n                  </span>\n                  <span className='font-medium dark:text-white'>\n                    {formatPrice(order.shippingCost)}\n                  </span>\n                </div>\n                <div className='flex justify-between text-sm'>\n                  <span className='text-slate-600 dark:text-slate-400'>\n                    Tax\n                  </span>\n                  <span className='font-medium dark:text-white'>\n                    {formatPrice(order.tax)}\n                  </span>\n                </div>\n                <Separator />\n                <div className='flex justify-between font-semibold pt-2'>\n                  <span className='dark:text-white'>Total</span>\n                  <span className='dark:text-white'>\n                    {formatPrice(order.total)}\n                  </span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Sidebar */}\n        <div className='space-y-6'>\n          <Card>\n            <CardHeader>\n              <CardTitle className='flex items-center gap-2 text-lg'>\n                <User className='h-5 w-5' />\n                User\n              </CardTitle>\n            </CardHeader>\n            <CardContent className='space-y-4'>\n              <div>\n                <p className='font-semibold dark:text-white'>\n                  {order.user.name}\n                </p>\n                <p className='text-sm text-slate-500 dark:text-slate-400 mt-1'>\n                  User since {formatOrderDate(order.user.createdAt.toString())}\n                </p>\n              </div>\n              <Separator />\n              <div className='space-y-2'>\n                <div className='flex items-center gap-2 text-sm'>\n                  <Mail className='h-4 w-4 text-slate-400' />\n                  <span className='text-slate-600 dark:text-slate-400'>\n                    {order.user.email}\n                  </span>\n                </div>\n                <div className='flex items-center gap-2 text-sm'>\n                  <Phone className='h-4 w-4 text-slate-400' />\n                  <span className='text-slate-600 dark:text-slate-400'>\n                    (555) 123-4567\n                  </span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className='flex items-center gap-2 text-lg'>\n                <MapPin className='h-5 w-5' />\n                Shipping Address\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <address className='not-italic text-sm text-slate-600 dark:text-slate-400 space-y-1'>\n                <p className='font-medium text-slate-900 dark:text-white'>\n                  {shippingAddress.name}\n                </p>\n                <p>{shippingAddress.street}</p>\n                <p>\n                  {shippingAddress.city}, {shippingAddress.state}{' '}\n                  {shippingAddress.zip}\n                </p>\n                <p>{shippingAddress.country}</p>\n              </address>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className='flex items-center gap-2 text-lg'>\n                <CreditCard className='h-5 w-5' />\n                Payment\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className='space-y-2'>\n                <p className='font-medium dark:text-white'>\n                  {order.paymentMethod}\n                </p>\n                <p className='text-sm text-slate-500 dark:text-slate-400'>\n                  Payment processed successfully\n                </p>\n                <Badge variant='outline' className='mt-2'>\n                  Paid\n                </Badge>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\orders-client.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\orders-data-table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\product-form.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":85,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":85,"endColumn":21},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":281,"column":19,"nodeType":"JSXOpeningElement","endLine":288,"endColumn":21},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":333,"column":23,"nodeType":"JSXOpeningElement","endLine":337,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// components/admin/product-form.tsx\n'use client';\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport {\n  productFormSchema,\n  type ProductFormValues,\n} from '@/lib/schemas/product-schema';\nimport { ProductWithRelations } from '@/lib/types';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { Loader2, Upload, Image as ImageIcon, X } from 'lucide-react';\nimport { useForm } from 'react-hook-form';\nimport { toast } from 'sonner';\n\ninterface ProductFormProps {\n  product?: ProductWithRelations | null;\n  onSubmit: (values: ProductFormValues) => void | Promise<void>;\n  isSubmitting?: boolean;\n}\n\nexport const ProductForm = ({\n  product,\n  onSubmit,\n  isSubmitting = false,\n}: ProductFormProps) => {\n  const [useUrlInput, setUseUrlInput] = useState(true);\n  const [imageUrls, setImageUrls] = useState<string[]>(\n    product?.images?.map(img => img.url) || []\n  );\n  const [isUploading, setIsUploading] = useState(false);\n\n  const form = useForm<ProductFormValues>({\n    resolver: zodResolver(productFormSchema),\n    defaultValues: {\n      title: product?.title || '',\n      description: product?.description || '',\n      price: product?.price || 0,\n      stock: product?.stock || 0,\n      brand: product?.brand || '',\n      category: product?.category || '',\n      discount: product?.discount || undefined,\n    },\n  });\n\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(e.target.files || []);\n    if (files.length === 0) return;\n\n    setIsUploading(true);\n    const uploadedUrls: string[] = [];\n\n    for (const file of files) {\n      if (file.size > 5 * 1024 * 1024) {\n        toast.error(`${file.name} is too large. Max size is 5MB.`);\n        continue;\n      }\n      \n      const formData = new FormData();\n      formData.append('file', file);\n\n      try {\n        const res = await fetch('/api/upload', {\n          method: 'POST',\n          body: formData,\n        });\n\n        const result = await res.json();\n\n        if (result.success) {\n          uploadedUrls.push(result.url);\n        } else {\n          toast.error(`Failed to upload ${file.name}: ${result.error}`);\n        }\n      } catch (error) {\n        toast.error(`An error occurred while uploading ${file.name}`);\n      }\n    }\n\n    setImageUrls(prev => [...prev, ...uploadedUrls]);\n    setIsUploading(false);\n  };\n\n  const removeImage = (index: number) => {\n    setImageUrls(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleFormSubmit = async (values: ProductFormValues) => {\n    const finalValues = {\n      ...values,\n      images: imageUrls,\n      imageUrl: imageUrls[0],\n    };\n\n    await onSubmit(finalValues);\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(handleFormSubmit)} className='space-y-6'>\n        {/* Title */}\n        <FormField\n          control={form.control}\n          name='title'\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Product Title</FormLabel>\n              <FormControl>\n                <Input\n                  placeholder='e.g. Quantum QLED 65\" TV'\n                  disabled={isSubmitting || isUploading}\n                  {...field}\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {/* Description */}\n        <FormField\n          control={form.control}\n          name='description'\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Description</FormLabel>\n              <FormControl>\n                <Textarea\n                  placeholder='Describe the product features and benefits...'\n                  rows={4}\n                  disabled={isSubmitting || isUploading}\n                  {...field}\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {/* Price and Stock */}\n        <div className='grid grid-cols-1 md:grid-cols-2 gap-6'>\n          <FormField\n            control={form.control}\n            name='price'\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Price ($)</FormLabel>\n                <FormControl>\n                  <Input\n                    type='number'\n                    step='0.01'\n                    min='0'\n                    placeholder='e.g. 1299.99'\n                    disabled={isSubmitting || isUploading}\n                    {...field}\n                    value={field.value === 0 ? '' : field.value}\n                    onChange={(e) => {\n                      const value = e.target.value === '' ? 0 : parseFloat(e.target.value);\n                      field.onChange(isNaN(value) ? 0 : value);\n                    }}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name='stock'\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Stock Quantity</FormLabel>\n                <FormControl>\n                  <Input\n                    type='number'\n                    min='0'\n                    placeholder='e.g. 25'\n                    disabled={isSubmitting || isUploading}\n                    {...field}\n                    value={field.value === 0 ? '' : field.value}\n                    onChange={(e) => {\n                      const value = e.target.value === '' ? 0 : parseInt(e.target.value, 10);\n                      field.onChange(isNaN(value) ? 0 : value);\n                    }}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n        </div>\n\n        {/* Brand and Category */}\n        <div className='grid grid-cols-1 md:grid-cols-2 gap-6'>\n          <FormField\n            control={form.control}\n            name='brand'\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Brand</FormLabel>\n                <FormControl>\n                  <Input\n                    placeholder='e.g. AuroVision'\n                    disabled={isSubmitting || isUploading}\n                    {...field}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name='category'\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>Category</FormLabel>\n                <FormControl>\n                  <Input\n                    placeholder='e.g. TVs'\n                    disabled={isSubmitting || isUploading}\n                    {...field}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n        </div>\n\n        {/* Product Images Section */}\n        <div className=\"border dark:border-slate-800 rounded-lg p-6 space-y-4\">\n          <FormLabel>Product Images</FormLabel>\n          \n          <div className=\"flex gap-2\">\n            <Button\n              type=\"button\"\n              variant={useUrlInput ? 'default' : 'outline'}\n              size=\"sm\"\n              onClick={() => setUseUrlInput(true)}\n              disabled={isUploading}\n            >\n              <ImageIcon className=\"h-4 w-4 mr-2\" />\n              Image URL\n            </Button>\n            <Button\n              type=\"button\"\n              variant={!useUrlInput ? 'default' : 'outline'}\n              size=\"sm\"\n              onClick={() => setUseUrlInput(false)}\n              disabled={isUploading}\n            >\n              <Upload className=\"h-4 w-4 mr-2\" />\n              Upload Files\n            </Button>\n          </div>\n\n          {useUrlInput ? (\n            <div className=\"space-y-2\">\n              <Input\n                type=\"url\"\n                placeholder=\"https://example.com/image.jpg\"\n                value={imageUrls[0] || ''}\n                onChange={(e) => setImageUrls([e.target.value])}\n                disabled={isSubmitting || isUploading}\n              />\n              {imageUrls[0] && (\n                <div className=\"mt-2\">\n                  <img \n                    src={imageUrls[0]} \n                    alt=\"Preview\" \n                    className=\"h-32 w-32 object-cover rounded-lg border dark:border-slate-700\"\n                    onError={(e) => {\n                      e.currentTarget.src = 'https://via.placeholder.com/150?text=Invalid+URL';\n                    }}\n                  />\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              <div className=\"border-2 border-dashed dark:border-slate-700 rounded-lg p-6 text-center hover:border-slate-400 dark:hover:border-slate-600 transition-colors\">\n                <Input\n                  id=\"images\"\n                  type=\"file\"\n                  accept=\"image/*\"\n                  multiple\n                  onChange={handleImageUpload}\n                  disabled={isSubmitting || isUploading}\n                  className=\"hidden\"\n                />\n                <label \n                  htmlFor=\"images\"\n                  className=\"cursor-pointer flex flex-col items-center gap-2\"\n                >\n                  {isUploading ? (\n                    <>\n                      <Loader2 className='h-10 w-10 text-slate-400 animate-spin' />\n                      <span className=\"text-sm text-slate-600 dark:text-slate-400\">\n                        Uploading...\n                      </span>\n                    </>\n                  ) : (\n                    <>\n                      <Upload className=\"h-10 w-10 text-slate-400\" />\n                      <span className=\"text-sm text-slate-600 dark:text-slate-400\">\n                        Click to upload or drag and drop\n                      </span>\n                      <span className=\"text-xs text-slate-500\">\n                        PNG, JPG, WEBP up to 5MB each\n                      </span>\n                    </>\n                  )}\n                </label>\n              </div>\n\n              {imageUrls.length > 0 && (\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  {imageUrls.map((url, index) => (\n                    <div key={index} className=\"relative group\">\n                      <img\n                        src={url}\n                        alt={`Preview ${index + 1}`}\n                        className=\"h-24 w-full object-cover rounded-lg border dark:border-slate-700\"\n                      />\n                      <Button\n                        type=\"button\"\n                        variant=\"destructive\"\n                        size=\"icon\"\n                        className=\"absolute -top-2 -right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity\"\n                        onClick={() => removeImage(index)}\n                        disabled={isSubmitting || isUploading}\n                      >\n                        <X className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Submit Button */}\n        <div className='flex gap-4 pt-4'>\n          <Button\n            type='submit'\n            disabled={isSubmitting || isUploading}\n            className='min-w-30'\n          >\n            {isSubmitting ? (\n              <>\n                <Loader2 className='h-4 w-4 mr-2 animate-spin' />\n                Saving...\n              </>\n            ) : product ? (\n              'Save Changes'\n            ) : (\n              'Create Product'\n            )}\n          </Button>\n        </div>\n      </form>\n    </Form>\n  );\n};","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\product-image.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":11,"column":5,"nodeType":"JSXOpeningElement","endLine":18,"endColumn":7}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\ninterface ProductImageProps {\r\n  src: string;\r\n  alt: string;\r\n  className?: string;\r\n}\r\n\r\nexport function ProductImage({ src, alt, className }: ProductImageProps) {\r\n  return (\r\n    <img\r\n      src={src}\r\n      alt={alt}\r\n      className={className}\r\n      onError={(e) => {\r\n        e.currentTarget.src = 'https://via.placeholder.com/64?text=No+Image';\r\n      }}\r\n    />\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\products-client.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isSomeSelected' is assigned a value but never used.","line":74,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":74,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { Button } from '@/components/ui/button';\r\nimport { Checkbox } from '@/components/ui/checkbox';\r\nimport { Product } from '@prisma/client';\r\nimport { Edit, Trash2 } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useState, useTransition } from 'react';\r\nimport { toast } from 'sonner';\r\nimport { DeleteProductButton } from './delete-product-button';\r\nimport { ProductImage } from './product-image';\r\n\r\n// 1. Define a \"Serialized\" type that matches what the Server Component sends\r\n// This takes the Prisma Product but changes Date fields to strings\r\ntype SerializedProduct = Omit<Product, 'createdAt' | 'updatedAt'> & {\r\n  createdAt: string;\r\n  updatedAt: string;\r\n};\r\n\r\ninterface ProductsClientProps {\r\n  // 2. Use the new SerializedProduct type here\r\n  products: SerializedProduct[];\r\n  deleteProductAction: (\r\n    id: string\r\n  ) => Promise<{ success: boolean; error?: string; message?: string }>;\r\n  deleteMultipleProductsAction: (\r\n    ids: string[]\r\n  ) => Promise<{ success: boolean; error?: string; message?: string }>;\r\n}\r\n\r\nexport function ProductsClient({\r\n  products,\r\n  deleteProductAction,\r\n  deleteMultipleProductsAction,\r\n}: ProductsClientProps) {\r\n  const [selectedIds, setSelectedIds] = useState<string[]>([]);\r\n  const [isPending, startTransition] = useTransition();\r\n  const router = useRouter();\r\n\r\n  const handleSelectAll = (checked: boolean) => {\r\n    if (checked) {\r\n      setSelectedIds(products.map((p) => p.id));\r\n    } else {\r\n      setSelectedIds([]);\r\n    }\r\n  };\r\n\r\n  const handleSelectRow = (id: string, checked: boolean) => {\r\n    if (checked) {\r\n      setSelectedIds((prev) => [...prev, id]);\r\n    } else {\r\n      setSelectedIds((prev) => prev.filter((i) => i !== id));\r\n    }\r\n  };\r\n\r\n  const handleDeleteSelected = () => {\r\n    if (selectedIds.length === 0) return;\r\n\r\n    startTransition(async () => {\r\n      const result = await deleteMultipleProductsAction(selectedIds);\r\n      if (result.success) {\r\n        toast.success(result.message);\r\n        setSelectedIds([]);\r\n        router.refresh();\r\n      } else {\r\n        toast.error(result.error);\r\n      }\r\n    });\r\n  };\r\n\r\n  const isAllSelected =\r\n    selectedIds.length > 0 && selectedIds.length === products.length;\r\n  const isSomeSelected =\r\n    selectedIds.length > 0 && selectedIds.length < products.length;\r\n\r\n  return (\r\n    <div className='space-y-4'>\r\n      <div className='flex items-center justify-between'>\r\n        <div className='flex items-center gap-2'>\r\n          <Checkbox\r\n            id='select-all'\r\n            checked={isAllSelected}\r\n            onCheckedChange={handleSelectAll}\r\n            aria-label='Select all'\r\n          />\r\n          <label htmlFor='select-all' className='text-sm font-medium'>\r\n            Select All\r\n          </label>\r\n        </div>\r\n\r\n        {selectedIds.length > 0 && (\r\n          <Button\r\n            variant='destructive'\r\n            size='sm'\r\n            onClick={handleDeleteSelected}\r\n            disabled={isPending}\r\n          >\r\n            <Trash2 className='h-4 w-4 mr-2' />\r\n            Delete Selected ({selectedIds.length})\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {products.map((product) => (\r\n        <div\r\n          key={product.id}\r\n          className='flex items-center gap-4 p-4 border dark:border-slate-800 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors'\r\n        >\r\n          <Checkbox\r\n            checked={selectedIds.includes(product.id)}\r\n            onCheckedChange={(checked) =>\r\n              handleSelectRow(product.id, !!checked)\r\n            }\r\n            aria-label={`Select product ${product.title}`}\r\n          />\r\n\r\n          <ProductImage\r\n            src={\r\n              product.thumbnail?.trim()\r\n                ? product.thumbnail\r\n                : '/images/placeholder.jpg'\r\n            }\r\n            alt={product.title}\r\n            className='h-16 w-16 object-cover rounded border dark:border-slate-700'\r\n          />\r\n\r\n          <div className='flex-1 min-w-0'>\r\n            <h3 className='font-semibold dark:text-white truncate'>\r\n              {product.title}\r\n            </h3>\r\n            <div className='flex items-center gap-4 mt-1 text-sm text-slate-600 dark:text-slate-400'>\r\n              <span>${product?.price?.toFixed(2)}</span>\r\n              <span></span>\r\n              <span>Stock: {product.stock}</span>\r\n              <span></span>\r\n              <span>{product.brand}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='flex gap-2'>\r\n            <Button variant='outline' size='sm' asChild>\r\n              <Link href={`/admin/products/${product.id}/edit`}>\r\n                <Edit className='h-4 w-4' />\r\n              </Link>\r\n            </Button>\r\n            <DeleteProductButton\r\n              productId={product.id}\r\n              productTitle={product.title}\r\n              deleteProductAction={deleteProductAction}\r\n            />\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\products-data-table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\products-list.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isSomeSelected' is assigned a value but never used.","line":63,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":63,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport {\n  deleteMultipleProductsAction,\n  deleteProductAction,\n} from '@/actions/product-actions';\nimport { Button } from '@/components/ui/button';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Product } from '@/lib/types';\nimport { Edit, Trash2 } from 'lucide-react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { useState, useTransition } from 'react';\nimport { toast } from 'sonner';\nimport { DeleteProductButton } from './delete-product-button';\nimport { ProductImage } from './product-image';\n\ninterface ProductsListProps {\n  products: Product[];\n}\n\nexport function ProductsList({ products }: ProductsListProps) {\n  const [selectedIds, setSelectedIds] = useState<string[]>([]);\n  const [isPending, startTransition] = useTransition();\n  const router = useRouter();\n\n  const handleSelectAll = (checked: boolean) => {\n    if (checked) {\n      setSelectedIds(products.map((p) => p.id));\n    }\n    else {\n      setSelectedIds([]);\n    }\n  };\n\n  const handleSelectRow = (id: string, checked: boolean) => {\n    if (checked) {\n      setSelectedIds((prev) => [...prev, id]);\n    }\n    else {\n      setSelectedIds((prev) => prev.filter((i) => i !== id));\n    }\n  };\n\n  const handleDeleteSelected = () => {\n    if (selectedIds.length === 0) return;\n\n    startTransition(async () => {\n      const result = await deleteMultipleProductsAction(selectedIds);\n      if (result.success) {\n        toast.success(result.message);\n        setSelectedIds([]);\n        router.refresh();\n      }\n      else {\n        toast.error(result.error);\n      }\n    });\n  };\n\n  const isAllSelected =\n    selectedIds.length > 0 && selectedIds.length === products.length;\n  const isSomeSelected =\n    selectedIds.length > 0 && selectedIds.length < products.length;\n\n  return (\n    <div className='space-y-4'>\n      <div className='flex items-center justify-between'>\n        <div className='flex items-center gap-2'>\n          <Checkbox\n            id='select-all'\n            checked={isAllSelected}\n            onCheckedChange={handleSelectAll}\n            aria-label='Select all'\n          />\n          <label htmlFor='select-all' className='text-sm font-medium'>\n            Select All\n          </label>\n        </div>\n\n        {selectedIds.length > 0 && (\n          <Button\n            variant='destructive'\n            size='sm'\n            onClick={handleDeleteSelected}\n            disabled={isPending}\n          >\n            <Trash2 className='h-4 w-4 mr-2' />\n            Delete Selected ({selectedIds.length})\n          </Button>\n        )}\n      </div>\n\n      {products.map((product) => (\n        <div\n          key={product.id}\n          className='flex items-center gap-4 p-4 border dark:border-slate-800 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors'\n        >\n          <Checkbox\n            checked={selectedIds.includes(product.id)}\n            onCheckedChange={(checked) =>\n              handleSelectRow(product.id, !!checked)\n            }\n            aria-label={`Select product ${product.title}`}\n          />\n\n          <ProductImage\n            src={\n              product.thumbnail?.trim()\n                ? product.thumbnail\n                : '/images/placeholder.jpg'\n            }\n            alt={product.title}\n            className='h-16 w-16 object-cover rounded border dark:border-slate-700'\n          />\n\n          <div className='flex-1 min-w-0'>\n            <h3 className='font-semibold dark:text-white truncate'>\n              {product.title}\n            </h3>\n            <div className='flex items-center gap-4 mt-1 text-sm text-slate-600 dark:text-slate-400'>\n              <span>${product?.price?.toFixed(2)}</span>\n              <span></span>\n              <span>Stock: {product.stock}</span>\n              <span></span>\n              <span>{product.brand}</span>\n            </div>\n          </div>\n\n          <div className='flex gap-2'>\n            <Button variant='outline' size='sm' asChild>\n              <Link href={`/admin/products/${product.id}/edit`}>\n                <Edit className='h-4 w-4' />\n              </Link>\n            </Button>\n            <DeleteProductButton\n              productId={product.id}\n              productTitle={product.title}\n              deleteProductAction={deleteProductAction}\n            />\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\user-form.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mode' is assigned a value but never used.","line":51,"column":52,"nodeType":null,"messageId":"unusedVar","endLine":51,"endColumn":56},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":81,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2042,2126],"text":"\n                The user&apos;s full name as it will appear in the system\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2042,2126],"text":"\n                The user&lsquo;s full name as it will appear in the system\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2042,2126],"text":"\n                The user&#39;s full name as it will appear in the system\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2042,2126],"text":"\n                The user&rsquo;s full name as it will appear in the system\n              "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { Loader2, Save } from 'lucide-react';\nimport { useForm } from 'react-hook-form';\nimport * as z from 'zod';\n\n/**\n * Form validation schema\n */\nconst userFormSchema = z.object({\n  name: z.string().min(2, 'Name must be at least 2 characters'),\n  email: z.string().email('Invalid email address'),\n  password: z.string().min(6, 'Password must be at least 6 characters'),\n  role: z.enum(['USER', 'ADMIN']),\n  bio: z.string().optional(),\n});\n\ntype UserFormValues = z.infer<typeof userFormSchema>;\n\ninterface UserFormProps {\n  onSubmit: (values: UserFormValues) => void | Promise<void>;\n  isSubmitting: boolean;\n  mode?: 'create' | 'edit';\n}\n\n/**\n * User Form Component\n * \n * Form for creating new users with validation\n */\nexport function UserForm({ onSubmit, isSubmitting, mode = 'create' }: UserFormProps) {\n  const form = useForm<UserFormValues>({\n    resolver: zodResolver(userFormSchema),\n    defaultValues: {\n      name: '',\n      email: '',\n      password: '',\n      role: 'USER',\n      bio: '',\n    },\n  });\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className='space-y-6'>\n        {/* Name Field */}\n        <FormField\n          control={form.control}\n          name='name'\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Full Name</FormLabel>\n              <FormControl>\n                <Input\n                  placeholder='John Doe'\n                  {...field}\n                  disabled={isSubmitting}\n                />\n              </FormControl>\n              <FormDescription>\n                The user's full name as it will appear in the system\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {/* Email Field */}\n        <FormField\n          control={form.control}\n          name='email'\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Email Address</FormLabel>\n              <FormControl>\n                <Input\n                  type='email'\n                  placeholder='john@example.com'\n                  {...field}\n                  disabled={isSubmitting}\n                />\n              </FormControl>\n              <FormDescription>\n                Must be a valid email address for account verification\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {/* Password Field */}\n        <FormField\n          control={form.control}\n          name='password'\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Password</FormLabel>\n              <FormControl>\n                <Input\n                  type='password'\n                  placeholder=''\n                  {...field}\n                  disabled={isSubmitting}\n                />\n              </FormControl>\n              <FormDescription>\n                Minimum 6 characters. User can change this later.\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {/* Role Field */}\n        <FormField\n          control={form.control}\n          name='role'\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Account Role</FormLabel>\n              <Select\n                onValueChange={field.onChange}\n                defaultValue={field.value}\n                disabled={isSubmitting}\n              >\n                <FormControl>\n                  <SelectTrigger>\n                    <SelectValue placeholder='Select a role' />\n                  </SelectTrigger>\n                </FormControl>\n                <SelectContent>\n                  <SelectItem value='USER'>User (Standard Access)</SelectItem>\n                  <SelectItem value='ADMIN'>Admin (Full Access)</SelectItem>\n                </SelectContent>\n              </Select>\n              <FormDescription>\n                Admin users have full access to all features\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {/* Bio Field */}\n        <FormField\n          control={form.control}\n          name='bio'\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Biography (Optional)</FormLabel>\n              <FormControl>\n                <Textarea\n                  placeholder='Tell us a bit about this user...'\n                  className='resize-none'\n                  rows={4}\n                  {...field}\n                  disabled={isSubmitting}\n                />\n              </FormControl>\n              <FormDescription>\n                Optional biography or notes about the user\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        {/* Submit Button */}\n        <div className='flex justify-end gap-4 pt-4'>\n          <Button\n            type='button'\n            variant='outline'\n            onClick={() => form.reset()}\n            disabled={isSubmitting}\n          >\n            Reset Form\n          </Button>\n          <Button type='submit' disabled={isSubmitting}>\n            {isSubmitting ? (\n              <>\n                <Loader2 className='h-4 w-4 mr-2 animate-spin' />\n                Creating User...\n              </>\n            ) : (\n              <>\n                <Save className='h-4 w-4 mr-2' />\n                Create User\n              </>\n            )}\n          </Button>\n        </div>\n      </form>\n    </Form>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\admin\\users-data-table.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":117,"column":13,"nodeType":"JSXOpeningElement","endLine":121,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/ui/alert-dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { DataTable } from '@/components/ui/data-table';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { User } from '@/lib/types';\r\nimport { deleteUserFromAdminAction } from '@/actions/user-actions';\r\nimport { MoreHorizontal, Trash2, Eye, Edit, UserCog } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { useState, useTransition, useCallback } from 'react';\r\nimport { toast } from 'sonner';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface UsersDataTableProps {\r\n  users: User[];\r\n}\r\n\r\n/**\r\n * Users Data Table Component\r\n * \r\n * Admin interface for managing users\r\n * Features:\r\n * - View user details\r\n * - Edit user information\r\n * - Delete users (with confirmation)\r\n * - Role badges\r\n * - Optimistic updates\r\n */\r\nexport function UsersDataTable({ users }: UsersDataTableProps) {\r\n  const router = useRouter();\r\n  const [isPending, startTransition] = useTransition();\r\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\r\n  const [userToDelete, setUserToDelete] = useState<User | null>(null);\r\n\r\n  /**\r\n   * Handle delete button click\r\n   */\r\n  const handleDeleteClick = useCallback((user: User) => {\r\n    setUserToDelete(user);\r\n    setShowDeleteDialog(true);\r\n  }, []);\r\n\r\n  /**\r\n   * Handle delete confirmation\r\n   */\r\n  const handleConfirmDelete = useCallback(async () => {\r\n    if (!userToDelete) return;\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const result = await deleteUserFromAdminAction(userToDelete.id);\r\n\r\n        if (result.success) {\r\n          toast.success(result.message || `User \"${userToDelete.name}\" deleted successfully`);\r\n          setShowDeleteDialog(false);\r\n          setUserToDelete(null);\r\n          \r\n          // Refresh the page data\r\n          router.refresh();\r\n        } else {\r\n          toast.error(result.error || 'Failed to delete user');\r\n        }\r\n      } catch (error) {\r\n        console.error('Delete user error:', error);\r\n        toast.error(error instanceof Error ? error.message : 'Failed to delete user');\r\n      }\r\n    });\r\n  }, [userToDelete, router]);\r\n\r\n  /**\r\n   * Handle cancel delete\r\n   */\r\n  const handleCancelDelete = useCallback(() => {\r\n    setShowDeleteDialog(false);\r\n    setUserToDelete(null);\r\n  }, []);\r\n\r\n  /**\r\n   * Get role badge variant based on role\r\n   */\r\n  const getRoleBadgeVariant = (role: string) => {\r\n    switch (role?.toLowerCase()) {\r\n      case 'admin':\r\n        return 'destructive';\r\n      case 'user':\r\n        return 'secondary';\r\n      default:\r\n        return 'outline';\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Table columns configuration\r\n   */\r\n  const columns = [\r\n    {\r\n      header: 'Name',\r\n      cell: (user: User) => (\r\n        <div className='flex items-center gap-2'>\r\n          {user.image ? (\r\n            <img \r\n              src={user.image} \r\n              alt={user.name || 'User'} \r\n              className='h-8 w-8 rounded-full object-cover'\r\n            />\r\n          ) : (\r\n            <div className='h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center'>\r\n              <span className='text-sm font-semibold text-primary'>\r\n                {user.name?.charAt(0).toUpperCase() || 'U'}\r\n              </span>\r\n            </div>\r\n          )}\r\n          <span className='font-medium'>{user.name || 'No name'}</span>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      header: 'Email',\r\n      cell: (user: User) => (\r\n        <span className='text-muted-foreground'>{user.email}</span>\r\n      ),\r\n    },\r\n    {\r\n      header: 'Role',\r\n      cell: (user: User) => (\r\n        <Badge variant={getRoleBadgeVariant(user.role || 'user')}>\r\n          <UserCog className='h-3 w-3 mr-1' />\r\n          {(user.role || 'user').toUpperCase()}\r\n        </Badge>\r\n      ),\r\n    },\r\n    {\r\n      header: 'Created',\r\n      cell: (user: User) => (\r\n        <span className='text-sm text-muted-foreground'>\r\n          {user.createdAt \r\n            ? new Date(user.createdAt).toLocaleDateString('en-US', {\r\n                year: 'numeric',\r\n                month: 'short',\r\n                day: 'numeric',\r\n              })\r\n            : 'N/A'\r\n          }\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      header: <span className='sr-only'>Actions</span>,\r\n      cell: (user: User) => (\r\n        <div className='flex justify-end'>\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button \r\n                aria-haspopup='true' \r\n                size='icon' \r\n                variant='ghost'\r\n                className='h-8 w-8'\r\n              >\r\n                <MoreHorizontal className='h-4 w-4' />\r\n                <span className='sr-only'>Open menu for {user.name}</span>\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align='end'>\r\n              <DropdownMenuItem asChild>\r\n                <Link \r\n                  href={`/admin/users/${user.id}`}\r\n                  className='cursor-pointer'\r\n                >\r\n                  <Eye className='h-4 w-4 mr-2' />\r\n                  View Details\r\n                </Link>\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem asChild>\r\n                <Link \r\n                  href={`/admin/users/${user.id}/edit`}\r\n                  className='cursor-pointer'\r\n                >\r\n                  <Edit className='h-4 w-4 mr-2' />\r\n                  Edit User\r\n                </Link>\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem\r\n                className='text-destructive focus:text-destructive cursor-pointer'\r\n                onSelect={() => handleDeleteClick(user)}\r\n              >\r\n                <Trash2 className='h-4 w-4 mr-2' />\r\n                Delete User\r\n              </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <DataTable\r\n        data={users}\r\n        columns={columns}\r\n        keyExtractor={(user) => user.id}\r\n      />\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Delete User?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              This action cannot be undone. This will permanently delete the user account for\r\n              {' '}\r\n              <span className='font-semibold text-foreground'>\r\n                {userToDelete?.name || 'this user'}\r\n              </span>\r\n              {' '}\r\n              ({userToDelete?.email}) and remove all their data from the system.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel \r\n              onClick={handleCancelDelete}\r\n              disabled={isPending}\r\n            >\r\n              Cancel\r\n            </AlertDialogCancel>\r\n            <AlertDialogAction\r\n              onClick={handleConfirmDelete}\r\n              disabled={isPending}\r\n              className='bg-destructive text-destructive-foreground hover:bg-destructive/90'\r\n            >\r\n              {isPending ? (\r\n                <>\r\n                  <span className='animate-spin mr-2'></span>\r\n                  Deleting...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Trash2 className='h-4 w-4 mr-2' />\r\n                  Delete User\r\n                </>\r\n              )}\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\auth\\ReverseAuthGuard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\auth\\RoleGurard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\auth\\admin-auth-guard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\auth\\auth-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\auth\\auth-guard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'session' is assigned a value but never used.","line":28,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useSession } from 'next-auth/react';\nimport { useRouter } from 'next/navigation';\nimport React, { useEffect } from 'react';\nimport { Loader2 } from 'lucide-react';\n\ninterface AuthGuardProps {\n  children: React.ReactNode;\n  /**\n   * Optional redirect path (defaults to '/auth')\n   */\n  redirectTo?: string;\n  /**\n   * Optional loading component\n   */\n  fallback?: React.ReactNode;\n}\n\n/**\n * Auth guard component - protects routes from unauthenticated users\n */\nconst AuthGuard: React.FC<AuthGuardProps> = ({\n  children,\n  redirectTo = '/auth',\n  fallback,\n}) => {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (status === 'unauthenticated') {\n      router.replace(redirectTo);\n    }\n  }, [status, router, redirectTo]);\n\n  if (status === 'loading') {\n    return (\n      fallback || (\n        <div className='flex min-h-[70vh] items-center justify-center'>\n          <div className='text-center space-y-4'>\n            <Loader2 className='h-16 w-16 animate-spin text-slate-400 mx-auto' />\n            <p className='text-slate-600 dark:text-slate-400'>Loading...</p>\n          </div>\n        </div>\n      )\n    );\n  }\n\n  if (status === 'authenticated') {\n    return <>{children}</>;\n  }\n\n  return null;\n};\n\nexport default AuthGuard;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\cart\\cart-item.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\cart\\cart-summary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\cart\\saved-item.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\checkout\\checkout-steps.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\data-recovery.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":21,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { AlertTriangle, RefreshCw } from 'lucide-react';\r\n\r\nconst DataRecovery = () => {\r\n  const [showRecovery, setShowRecovery] = useState(false);\r\n\r\n  // Check if data might be corrupted\r\n  const checkDataHealth = () => {\r\n    try {\r\n      const products = localStorage.getItem('products');\r\n      if (products) {\r\n        const parsed = JSON.parse(products);\r\n        // Simple check for data health\r\n        if (!Array.isArray(parsed) || parsed.length === 0) {\r\n          setShowRecovery(true);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      setShowRecovery(true);\r\n    }\r\n  };\r\n\r\n  // Run check on component mount\r\n  useState(() => {\r\n    checkDataHealth();\r\n  });\r\n\r\n  const resetData = () => {\r\n    localStorage.clear();\r\n    window.location.reload();\r\n  };\r\n\r\n  if (!showRecovery) return null;\r\n\r\n  return (\r\n    <div className=\"fixed top-4 right-4 bg-yellow-100 border border-yellow-400 p-4 rounded shadow-lg z-50 max-w-sm\">\r\n      <div className=\"flex items-center gap-2 mb-2\">\r\n        <AlertTriangle className=\"h-5 w-5 text-yellow-600\" />\r\n        <h3 className=\"font-bold text-yellow-800\">Data Issue Detected</h3>\r\n      </div>\r\n      <p className=\"text-yellow-700 text-sm mb-3\">\r\n        There seems to be an issue with your stored data. This can happen after browser updates or clearing cookies.\r\n      </p>\r\n      <Button \r\n        onClick={resetData} \r\n        size=\"sm\" \r\n        variant=\"outline\"\r\n        className=\"w-full\"\r\n      >\r\n        <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n        Reset Application Data\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { DataRecovery };","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\emails\\subscription-confirmation-email.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":58,"column":16,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1797,2016],"text":"\n            You&apos;ve successfully joined our community! Get ready for exclusive\n            content, early access to new products, insider tips, and special\n            offers delivered straight to your inbox.\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1797,2016],"text":"\n            You&lsquo;ve successfully joined our community! Get ready for exclusive\n            content, early access to new products, insider tips, and special\n            offers delivered straight to your inbox.\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1797,2016],"text":"\n            You&#39;ve successfully joined our community! Get ready for exclusive\n            content, early access to new products, insider tips, and special\n            offers delivered straight to your inbox.\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1797,2016],"text":"\n            You&rsquo;ve successfully joined our community! Get ready for exclusive\n            content, early access to new products, insider tips, and special\n            offers delivered straight to your inbox.\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  Body,\n  Container,\n  Head,\n  Heading,\n  Hr,\n  Html,\n  Section,\n  Tailwind,\n  Text,\n} from '@react-email/components';\n\ninterface SubscriptionConfirmationEmailProps {\n  email: string;\n}\n\nexport const SubscriptionConfirmationEmail = ({\n  email,\n}: SubscriptionConfirmationEmailProps) => (\n  <Html>\n    <Head />\n    <Tailwind>\n      <Body className='bg-gray-100 font-sans py-10 px-5'>\n        <Container className='bg-white rounded-2xl mx-auto max-w-150 overflow-hidden shadow-lg'>\n          {/* linear Header */}\n          <Section className='p-0'>\n            <div className='h-1.5 bg-linear-to-r from-indigo-500 to-purple-600' />\n          </Section>\n\n          {/* Success Icon */}\n          <Section className='text-center pt-10 pb-5'>\n            <div className='inline-block'>\n              <svg width='64' height='64' viewBox='0 0 64 64' fill='none'>\n                <circle cx='32' cy='32' r='32' fill='url(#linear)' />\n                <path\n                  d='M20 32L28 40L44 24'\n                  stroke='white'\n                  strokeWidth='4'\n                  strokeLinecap='round'\n                  strokeLinejoin='round'\n                />\n                <defs>\n                  <linearGradient id='linear' x1='0' y1='0' x2='64' y2='64'>\n                    <stop offset='0%' stopColor='#667eea' />\n                    <stop offset='100%' stopColor='#764ba2' />\n                  </linearGradient>\n                </defs>\n              </svg>\n            </div>\n          </Section>\n\n          {/* Main Content */}\n          <Heading className='text-gray-900 text-3xl font-bold leading-tight m-0 mb-6 px-10 text-center'>\n            Welcome Aboard! \n          </Heading>\n\n          <Text className='text-gray-600 text-base leading-relaxed m-0 mb-8 px-10 text-center'>\n            You've successfully joined our community! Get ready for exclusive\n            content, early access to new products, insider tips, and special\n            offers delivered straight to your inbox.\n          </Text>\n\n          {/* Email Badge */}\n          <Section className='px-10 pb-8'>\n            <div className='bg-gray-50 border-2 border-gray-200 rounded-xl p-5 text-center'>\n              <Text className='text-gray-500 text-xs font-semibold tracking-wide uppercase m-0 mb-2'>\n                Your subscription email\n              </Text>\n              <Text className='text-indigo-500 text-base font-semibold m-0'>\n                {email}\n              </Text>\n            </div>\n          </Section>\n\n          <Hr className='border-gray-200 mx-10 my-8' />\n\n          {/* Features Grid */}\n          <Section className='px-10 pb-10'>\n            <Text className='text-gray-800 text-lg font-semibold m-0 mb-6 text-center'>\n              What to expect:\n            </Text>\n\n            <table className='w-full border-collapse'>\n              <tbody>\n                <tr>\n                  <td className='p-3 text-center align-top w-1/2'>\n                    <Text className='text-3xl m-0 mb-2'></Text>\n                    <Text className='text-gray-600 text-sm font-medium m-0'>\n                      Weekly updates\n                    </Text>\n                  </td>\n                  <td className='p-3 text-center align-top w-1/2'>\n                    <Text className='text-3xl m-0 mb-2'></Text>\n                    <Text className='text-gray-600 text-sm font-medium m-0'>\n                      Exclusive offers\n                    </Text>\n                  </td>\n                </tr>\n                <tr>\n                  <td className='p-3 text-center align-top w-1/2'>\n                    <Text className='text-3xl m-0 mb-2'></Text>\n                    <Text className='text-gray-600 text-sm font-medium m-0'>\n                      Early access\n                    </Text>\n                  </td>\n                  <td className='p-3 text-center align-top w-1/2'>\n                    <Text className='text-3xl m-0 mb-2'></Text>\n                    <Text className='text-gray-600 text-sm font-medium m-0'>\n                      Expert tips\n                    </Text>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </Section>\n\n          {/* Footer */}\n          <Section className='bg-gray-50 py-6 px-10 text-center'>\n            <Text className='text-gray-500 text-xs leading-normal m-1'>\n              You can unsubscribe at any time from the link in our emails.\n            </Text>\n            <Text className='text-gray-500 text-xs leading-normal m-1'>\n               2026 Your Company. All rights reserved.\n            </Text>\n          </Section>\n        </Container>\n      </Body>\n    </Tailwind>\n  </Html>\n);\n\nexport default SubscriptionConfirmationEmail;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\home\\hero-header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\home\\hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\home\\product-carousel.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":170,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":170,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4419,4422],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4419,4422],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\home\\testimonials.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\layout\\SearchDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\layout\\SearchInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\layout\\SearchResultItem.tsx","messages":[],"suppressedMessages":[{"ruleId":"jsx-a11y/role-has-required-aria-props","severity":1,"message":"Elements with the ARIA role \"option\" must have the following attributes defined: aria-selected","line":22,"column":9,"nodeType":"JSXAttribute","endLine":22,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\layout\\footer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":130,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":130,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Facebook, Instagram, Send, Twitter, Zap } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { useCallback, useState, useTransition } from 'react';\r\n\r\ninterface FooterLink {\r\n  label: string;\r\n  href: string;\r\n}\r\n\r\ninterface FooterSection {\r\n  title: string;\r\n  links: FooterLink[];\r\n}\r\n\r\ninterface SocialLink {\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  href: string;\r\n  label: string;\r\n}\r\n\r\n// Data for footer links\r\nconst footerLinks: FooterSection[] = [\r\n  {\r\n    title: 'Shop',\r\n    links: [\r\n      { label: 'TVs & Displays', href: '/products?category=TVs' },\r\n      { label: 'Laptops & Computers', href: '/products?category=Laptops' },\r\n      { label: 'Phones & Tablets', href: '/products?category=Phones' },\r\n      { label: 'Audio', href: '/products?category=Audio' },\r\n    ],\r\n  },\r\n  {\r\n    title: 'Support',\r\n    links: [\r\n      { label: 'Contact Us', href: '/contact' },\r\n      { label: 'FAQ', href: '/faq' },\r\n      { label: 'Shipping & Returns', href: '/shipping' },\r\n    ],\r\n  },\r\n  {\r\n    title: 'Company',\r\n    links: [\r\n      { label: 'About Us', href: '/about' },\r\n      { label: 'Careers', href: '/careers' },\r\n      { label: 'Privacy Policy', href: '/privacy' },\r\n    ],\r\n  },\r\n];\r\n\r\nconst socialLinks: SocialLink[] = [\r\n  { icon: Twitter, href: 'https://twitter.com', label: 'Follow us on Twitter' },\r\n  {\r\n    icon: Facebook,\r\n    href: 'https://facebook.com',\r\n    label: 'Follow us on Facebook',\r\n  },\r\n  {\r\n    icon: Instagram,\r\n    href: 'https://instagram.com',\r\n    label: 'Follow us on Instagram',\r\n  },\r\n];\r\n\r\n/**\r\n * Footer component with newsletter subscription and navigation links\r\n *\r\n * Features:\r\n * - Responsive grid layout\r\n * - Newsletter subscription with validation\r\n * - Social media links\r\n * - Organized navigation sections\r\n * - Accessible markup\r\n */\r\nexport function Footer() {\r\n  const [email, setEmail] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  /**\r\n   * Validate email format\r\n   */\r\n  const validateEmail = useCallback((email: string): boolean => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  }, []);\r\n\r\n  /**\r\n   * Handle newsletter subscription\r\n   */\r\n  const handleSubscribe = useCallback(\r\n    async (e: React.FormEvent) => {\r\n      e.preventDefault();\r\n      setSuccess('');\r\n\r\n      if (!email.trim()) {\r\n        setError('Email is required');\r\n        return;\r\n      }\r\n\r\n      if (!validateEmail(email)) {\r\n        setError('Please enter a valid email address');\r\n        return;\r\n      }\r\n\r\n      startTransition(async () => {\r\n        try {\r\n          const response = await fetch('/api/subscribe', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ email }),\r\n          });\r\n\r\n          const data = await response.json();\r\n\r\n          if (!response.ok) {\r\n            setError(data.error || 'Something went wrong');\r\n            return;\r\n          }\r\n\r\n          setSuccess(data.message);\r\n          setEmail('');\r\n          setError('');\r\n        } catch (err) {\r\n          setError('Something went wrong');\r\n        }\r\n      });\r\n    },\r\n    [email, validateEmail]\r\n  );\r\n\r\n  /**\r\n   * Handle email input change\r\n   */\r\n  const handleEmailChange = useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setEmail(e.target.value);\r\n      if (error) {\r\n        setError('');\r\n      }\r\n    },\r\n    [error]\r\n  );\r\n\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer\r\n      className='border-t dark:bg-slate-950/20 bg-white'\r\n      role='contentinfo'\r\n    >\r\n      <div className='container-wide py-12'>\r\n        <div className='grid grid-cols-1 gap-12 lg:grid-cols-12 lg:gap-8'>\r\n          {/* Brand Section */}\r\n          <div className='lg:col-span-4 space-y-6'>\r\n            <Link\r\n              href='/'\r\n              className='inline-flex items-center gap-2 group'\r\n              aria-label='Electro home page'\r\n            >\r\n              <div className='w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors'>\r\n                <Zap className='h-6 w-6 text-primary' />\r\n              </div>\r\n              <span className='text-xl font-bold text-foreground'>Electro</span>\r\n            </Link>\r\n\r\n            <p className='text-sm text-muted-foreground max-w-xs'>\r\n              Your one-stop shop for the best electronics. Quality products,\r\n              unbeatable prices, exceptional service.\r\n            </p>\r\n\r\n            {/* Social Links */}\r\n            <div className='flex gap-2'>\r\n              {socialLinks.map((social) => (\r\n                <Link\r\n                  key={social.label}\r\n                  href={social.href}\r\n                  target='_blank'\r\n                  rel='noopener noreferrer'\r\n                  aria-label={social.label}\r\n                >\r\n                  <Button\r\n                    variant='ghost'\r\n                    size='icon'\r\n                    className='hover:bg-primary/10'\r\n                  >\r\n                    <social.icon className='h-5 w-5 text-muted-foreground hover:text-foreground transition-colors' />\r\n                  </Button>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Navigation Links */}\r\n          <nav\r\n            className='lg:col-span-5 grid grid-cols-1 sm:grid-cols-3 gap-8'\r\n            aria-label='Footer navigation'\r\n          >\r\n            {footerLinks.map((section) => (\r\n              <div key={section.title}>\r\n                <h3 className='font-semibold text-foreground mb-4'>\r\n                  {section.title}\r\n                </h3>\r\n                <ul className='space-y-3'>\r\n                  {section.links.map((link) => (\r\n                    <li key={link.label}>\r\n                      <Link\r\n                        href={link.href}\r\n                        className='text-sm text-muted-foreground hover:text-foreground transition-colors inline-block'\r\n                      >\r\n                        {link.label}\r\n                      </Link>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            ))}\r\n          </nav>\r\n\r\n          {/* Newsletter Section */}\r\n          <div className='lg:col-span-3'>\r\n            <h3 className='font-semibold text-foreground mb-4'>\r\n              Stay Connected\r\n            </h3>\r\n            <p className='text-sm text-muted-foreground mb-4'>\r\n              Subscribe to our newsletter for the latest deals and updates.\r\n            </p>\r\n\r\n            <form onSubmit={handleSubscribe} className='space-y-3'>\r\n              <div className='space-y-2'>\r\n                <div className='flex gap-2'>\r\n                  <Input\r\n                    type='email'\r\n                    placeholder='Enter your email'\r\n                    value={email}\r\n                    onChange={handleEmailChange}\r\n                    disabled={isPending}\r\n                    aria-label='Email for newsletter'\r\n                    aria-invalid={!!error}\r\n                    aria-describedby={error ? 'email-error' : undefined}\r\n                    className={\r\n                      error ? 'border-red-500 focus-visible:ring-red-500' : ''\r\n                    }\r\n                  />\r\n                  <Button\r\n                    type='submit'\r\n                    disabled={isPending}\r\n                    className='gap-2 flex-shrink-0'\r\n                  >\r\n                    {isPending ? (\r\n                      <div className='h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent' />\r\n                    ) : (\r\n                      <Send className='h-4 w-4' />\r\n                    )}\r\n                    <span className='hidden sm:inline'>Subscribe</span>\r\n                  </Button>\r\n                </div>\r\n                {error && (\r\n                  <p id='email-error' className='text-sm text-red-500'>\r\n                    {error}\r\n                  </p>\r\n                )}\r\n                {success && (\r\n                  <p id='email-success' className='text-sm text-green-500'>\r\n                    {success}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Copyright Section */}\r\n      <div className='border-t bg-muted/30'>\r\n        <div className='container-wide py-6'>\r\n          <div className='flex flex-col sm:flex-row justify-between items-center gap-4 text-sm text-muted-foreground'>\r\n            <p>&copy; {currentYear} Electro Inc. All rights reserved.</p>\r\n            <div className='flex gap-6'>\r\n              <Link\r\n                href='/privacy'\r\n                className='hover:text-foreground transition-colors'\r\n              >\r\n                Privacy Policy\r\n              </Link>\r\n              <Link\r\n                href='/terms'\r\n                className='hover:text-foreground transition-colors'\r\n              >\r\n                Terms of Service\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\layout\\header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\layout\\mobile-sidebar-wrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\layout\\mobile-sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\layout\\nav-actions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\layout\\search-bar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\ProductGridControls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\ProductList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\add-review-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\featured-products.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\filter-sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\product-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\product-grid.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'priceTimeoutRef'. Either include it or remove the dependency array.","line":64,"column":6,"nodeType":"ArrayExpression","endLine":64,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [priceTimeoutRef]","fix":{"range":[1884,1886],"text":"[priceTimeoutRef]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\product-image-carousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\product-purchase-panel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\quick-view-modal.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":122,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":122,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4265,4268],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4265,4268],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\related-products.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\product\\reviews-section.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'reviewId' is defined but never used.","line":58,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":58,"endColumn":40}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { Button } from '@/components/ui/button';\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogFooter,\n    DialogHeader,\n    DialogTitle,\n} from '@/components/ui/dialog';\nimport { Stars } from '@/components/ui/stars';\nimport { ProductWithRelations, Review } from '@/lib/types';\nimport { cn } from '@/lib/utils';\nimport { Pencil, ThumbsUp, Trash2 } from 'lucide-react';\nimport { useSession } from 'next-auth/react';\nimport { useMemo, useState } from 'react';\nimport { AddReviewForm } from './add-review-form';\n\ninterface ReviewsSectionProps {\n  productId: string;\n  product?: ProductWithRelations;\n}\n\nconst ReviewsSection = ({\n  productId,\n  product: propsProduct,\n}: ReviewsSectionProps) => {\n  const { data: session } = useSession();\n  const user = session?.user;\n\n  // Use product from props (server-side) or default\n  const product = propsProduct;\n\n  // Memoize reviews to stabilize dependency\n  const reviews = useMemo(() => product?.reviews || [], [product?.reviews]);\n\n  // Find user's review - now call hooks before early return\n  const userReview = useMemo(() => {\n    if (!user) return null;\n    return reviews.find((review) => review.userId === user.id) || null;\n  }, [reviews, user]);\n\n  const [editingReview, setEditingReview] = useState<Review | null>(null);\n  const [showConfirmDeleteDialog, setShowConfirmDeleteDialog] = useState(false);\n  const [reviewIdToDelete, setReviewIdToDelete] = useState<string | null>(null);\n\n  if (!product) return null; // Early return is now after all hooks\n\n  const handleEditClick = (review: Review) => {\n    setEditingReview(review);\n  };\n\n  const handleCancelEdit = () => {\n    setEditingReview(null);\n  };\n\n  const handleToggleHelpful = (reviewId: string) => {\n    // TODO: Implement toggleHelpfulReview action\n    // dispatch(toggleHelpfulReview({ productId, reviewId }));\n  };\n\n  const handleDeleteReviewClick = (reviewId: string) => {\n    setReviewIdToDelete(reviewId);\n    setShowConfirmDeleteDialog(true);\n  };\n\n  const confirmDeleteReview = () => {\n    if (reviewIdToDelete) {\n      // TODO: Implement deleteReview action\n      // dispatch(deleteReview({ productId, reviewId: reviewIdToDelete }));\n      setReviewIdToDelete(null);\n      setShowConfirmDeleteDialog(false);\n    }\n  };\n\n  const canShowAddForm = user && !userReview && !editingReview;\n\n  return (\n    <div className='mt-12 py-12 border-t dark:border-slate-800'>\n      <div className='flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-10'>\n        <h2 className='tracking-tight'>\n          User Reviews\n        </h2>\n        {user && userReview && !editingReview && (\n          <div className='flex items-center gap-2'>\n            <p className='text-sm text-slate-500 dark:text-slate-400'>\n              You have already reviewed this product.\n            </p>\n            <Button\n              className='flex items-center gap-2'\n              variant='outline'\n              size='sm'\n              onClick={() => userReview && handleEditClick(userReview)}\n            >\n              <Pencil className='mr-2 h-4 w-4' />\n              Edit Your Review\n            </Button>\n          </div>\n        )}\n      </div>\n\n      {canShowAddForm && (\n        <AddReviewForm\n          productId={productId}\n          reviewToEdit={null}\n          onCancelEdit={handleCancelEdit}\n        />\n      )}\n\n      {editingReview && (\n        <AddReviewForm\n          productId={productId}\n          reviewToEdit={editingReview}\n          onCancelEdit={handleCancelEdit}\n        />\n      )}\n\n      <div className='mt-6 space-y-8'>\n        {reviews.length === 0 ? (\n          <p className='mt-4 text-slate-500 dark:text-slate-400'>\n            No reviews yet. Be the first to share your thoughts!\n          </p>\n        ) : (\n          reviews.map((review) => {\n            const isHelpful = user?.helpfulReviews?.includes(review.id);\n            const isUserReview = user && user.id === review.userId;\n            return (\n              <div key={review.id} className='flex flex-col sm:flex-row gap-4'>\n                <div className='shrink-0 w-12 h-12 bg-slate-200 rounded-full flex items-center justify-center font-bold text-slate-600 dark:bg-slate-700 dark:text-slate-200'>\n                  {(review.user.name || '?').charAt(0).toUpperCase()}\n                </div>\n                <div className='flex-1'>\n                  <div className='flex items-center justify-between'>\n                    <div className='flex items-center gap-2'>\n                      <h4 className='font-semibold text-slate-900 dark:text-white'>\n                        {review.user.name || 'Anonymous'}\n                      </h4>\n                      <Stars value={review.rating} />\n                    </div>\n                    {isUserReview && !editingReview && (\n                      <div className='flex items-center gap-2'>\n                        <Button\n                          variant='ghost'\n                          size='sm'\n                          onClick={() => handleDeleteReviewClick(review.id)}\n                          className='flex items-center gap-1 text-sm text-red-500 hover:text-red-600'\n                        >\n                          <Trash2 className='h-4 w-4' />\n                          <span>Delete</span>\n                        </Button>\n                        <Button\n                          variant='ghost'\n                          size='sm'\n                          onClick={() => handleEditClick(review)}\n                          className='flex items-center gap-1 text-sm text-slate-500 dark:text-slate-400'\n                        >\n                          <Pencil className='h-4 w-4' />\n                          <span>Edit</span>\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n                  <h5 className='font-medium mt-1 dark:text-slate-300'>\n                    {review.title}\n                  </h5>\n                  <p className='mt-2 text-slate-600 dark:text-slate-300'>\n                    {review.comment}\n                  </p>\n                  <div className='flex items-center mt-2 text-sm text-slate-500 dark:text-slate-400'>\n                    <button\n                      onClick={() => handleToggleHelpful(review.id)}\n                      disabled={isUserReview as boolean | undefined} // Disable helpful button on user's own review\n                      className={cn(\n                        'flex items-center gap-1 transition-colors',\n                        !isUserReview &&\n                          'hover:text-slate-900 dark:hover:text-white',\n                        isHelpful && 'text-blue-600 dark:text-blue-400',\n                        isUserReview && 'cursor-not-allowed opacity-60',\n                      )}\n                    >\n                      <ThumbsUp\n                        className={cn('h-4 w-4', isHelpful && 'fill-current')}\n                      />\n                      <span>Helpful ({review.helpful || 0})</span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n\n      <Dialog\n        open={showConfirmDeleteDialog}\n        onOpenChange={setShowConfirmDeleteDialog}\n      >\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Confirm Deletion</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to delete this review? This action cannot be\n              undone.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <Button\n              variant='outline'\n              onClick={() => setShowConfirmDeleteDialog(false)}\n            >\n              Cancel\n            </Button>\n            <Button variant='destructive' onClick={confirmDeleteReview}>\n              Confirm Delete\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport { ReviewsSection };\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\shared\\EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\shared\\LoadingOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\shared\\quick-view-modal\\AddToCartButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\shared\\quick-view-modal\\ModalHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\shared\\quick-view-modal\\ProductInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\shared\\quick-view-modal\\ProductOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\shared\\quick-view-modal\\QuantitySelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\command-palette.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'mounted'. Either include it or remove the dependency array.","line":42,"column":6,"nodeType":"ArrayExpression","endLine":42,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [mounted]","fix":{"range":[1229,1231],"text":"[mounted]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport {\n    CommandDialog,\n    CommandEmpty,\n    CommandGroup,\n    CommandInput,\n    CommandItem,\n    CommandList,\n} from '@/components/ui/command';\nimport { Product } from '@/lib/types';\nimport { Heart, Home, Loader2, Moon, Search, ShoppingCart, Sun } from 'lucide-react';\nimport { useTheme } from 'next-themes';\nimport { useRouter } from 'next/navigation';\nimport { useEffect, useState } from 'react';\n\nexport const CommandPalette = () => {\n  const router = useRouter();\n  const { theme, setTheme } = useTheme();\n  const [open, setOpen] = useState(false);\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Toggle the menu when the user presses Ctrl+K or Command+K\n  useEffect(() => {\n    if (!mounted) return;\n    const down = (e: KeyboardEvent) => {\n      if (e.key === 'k' && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault();\n        setOpen((open) => !open);\n      }\n    };\n\n    document.addEventListener('keydown', down);\n    return () => document.removeEventListener('keydown', down);\n  }, []);\n\n  // Fetch search results when query changes (with debounce)\n  useEffect(() => {\n    const fetchResults = async () => {\n      if (query.length < 2) {\n        setResults([]);\n        return;\n      }\n      setIsLoading(true);\n      try {\n        const response = await fetch(`/api/products/search?query=${query}`);\n        if (response.ok) {\n          const data = await response.json();\n          setResults(data);\n        }\n      } catch (error) {\n        console.error('Command palette search failed:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    const timeoutId = setTimeout(fetchResults, 300); // 300ms debounce\n    return () => clearTimeout(timeoutId);\n  }, [query]);\n\n  const runCommand = (command: () => void) => {\n    setOpen(false);\n    command();\n  };\n\n  if (!mounted) return null;\n\n  return (\n    <CommandDialog open={open} onOpenChange={setOpen}>\n      <CommandInput\n        placeholder=\"Type a command or search...\"\n        value={query}\n        onValueChange={setQuery}\n      />\n      <CommandList>\n        <CommandEmpty>No results found.</CommandEmpty>\n        {isLoading && query.length > 1 && (\n          <div className=\"p-4 flex justify-center items-center\">\n            <Loader2 className=\"h-6 w-6 animate-spin text-slate-500\" />\n          </div>\n        )}\n        {!isLoading && results.length > 0 && (\n          <CommandGroup heading=\"Products\">\n            {results.map((product) => (\n              <CommandItem\n                key={product.id}\n                onSelect={() => runCommand(() => router.push(`/products/${product.id}`))}\n                value={`product-${product.id}-${product.title}`}\n              >\n                <Search className=\"mr-2 h-4 w-4\" />\n                <span>{product.title}</span>\n              </CommandItem>\n            ))}\n          </CommandGroup>\n        )}\n        <CommandGroup heading=\"Navigation\">\n          <CommandItem onSelect={() => runCommand(() => router.push('/'))}>\n            <Home className=\"mr-2 h-4 w-4\" />\n            <span>Home</span>\n          </CommandItem>\n          <CommandItem onSelect={() => runCommand(() => router.push('/cart'))}>\n            <ShoppingCart className=\"mr-2 h-4 w-4\" />\n            <span>Cart</span>\n          </CommandItem>\n          <CommandItem onSelect={() => runCommand(() => router.push('/wishlist'))}>\n            <Heart className=\"mr-2 h-4 w-4\" />\n            <span>Wishlist</span>\n          </CommandItem>\n        </CommandGroup>\n        <CommandGroup heading=\"Actions\">\n          <CommandItem\n            onSelect={() =>\n              runCommand(() => setTheme(theme === 'light' ? 'dark' : 'light'))\n            }\n          >\n            {theme === 'light' ? (\n              <Moon className=\"mr-2 h-4 w-4\" />\n            ) : (\n              <Sun className=\"mr-2 h-4 w-4\" />\n            )}\n            <span>Toggle Theme</span>\n          </CommandItem>\n        </CommandGroup>\n      </CommandList>\n    </CommandDialog>\n  );\n};","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\command.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\data-table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\hover-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\product-card-skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\stars.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\constants\\about-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\constants\\animations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\constants\\filter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\constants\\testimonials.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\context\\quick-view-context.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\data\\get-products.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\data\\get-products.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useFilterHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useFilterMetadata.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useFilterState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useKeyboardShortcuts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useMobileSidebar.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'close' and 'isOpen'. Either include them or remove the dependency array.","line":56,"column":6,"nodeType":"ArrayExpression","endLine":56,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [close, isOpen, pathname]","fix":{"range":[1205,1215],"text":"[close, isOpen, pathname]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useOnClickOutside.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\usePagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\usePathnameClearEffect.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useProductFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useQuickViewState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useSearchAPI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useSearchKeyboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useSearchNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\hooks\\useSearchState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\schemas\\product-schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\schemas\\user-schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\types\\cart.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\types\\filter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\types\\product.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Prisma' is defined but never used.","line":2,"column":36,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// types/product.ts\nimport { Product as PrismaProduct, Prisma } from '@prisma/client';\n\n/**\n * Product option variant (single variant within an option)\n */\nexport interface ProductOptionVariant {\n  name?: string;\n  value: string;\n  image?: string;\n  priceModifier?: number;\n  inStock?: boolean;\n}\n\n/**\n * Product option interface (e.g., \"Size\", \"Color\")\n * Contains multiple variants\n */\nexport interface ProductOption {\n  name: string;\n  type: string;\n  variants: ProductOptionVariant[];\n}\n\n/**\n * Base Product type with all fields\n * Overrides Prisma's JsonValue types with proper TypeScript types\n */\nexport type Product = Omit<PrismaProduct, 'options' | 'specifications'> & {\n  options: ProductOption[] | null;\n  specifications: Record<string, string> | null;\n};\n\n/**\n * Product with image relations\n */\nexport type ProductWithImages = Product & {\n  images: {\n    id: string;\n    url: string;\n  }[];\n};\n\n/**\n * Product with review relations (minimal)\n */\nexport type ProductWithReviews = Product & {\n  reviews: {\n    id: string;\n    userId: string;\n    rating: number;\n    title: string;\n    comment: string;\n    helpful: number;\n    verifiedPurchase: boolean;\n    createdAt: Date;\n  }[];\n};\n\n/**\n * Product with all relations (for product detail page)\n */\nexport type ProductWithRelations = Product & {\n  images: {\n    id: string;\n    url: string;\n  }[];\n  reviews?: {\n    id: string;\n    userId: string;\n    productId: string;\n    rating: number;\n    title: string;\n    comment: string;\n    helpful: number;\n    verifiedPurchase: boolean;\n    createdAt: Date;\n    user: {\n      name: string | null;\n    };\n  }[];\n};\n\n/**\n * Sort options for product listings\n */\nexport type SortKey =\n  | 'featured'\n  | 'price-asc'\n  | 'price-desc'\n  | 'rating'\n  | 'newest'\n  | 'popularity';\n\n/**\n * Filter state for product grid\n */\nexport interface FilterState {\n  category: string;\n  brands: string;\n  minPrice?: number;\n  maxPrice?: number;\n  sort: SortKey;\n  page: number;\n}\n\n/**\n * Product grid props\n */\nexport interface ProductGridProps {\n  title?: string;\n  subtitle?: string;\n  products: ProductWithImages[]; // Changed to ProductWithImages\n  totalCount: number;\n  currentPage: number;\n  currentCategories: string;\n  currentBrands: string;\n  currentMinPrice?: number;\n  currentMaxPrice?: number;\n  currentSort: SortKey;\n  pageSize?: number;\n  allCategories: string[];\n  allBrands: string[];\n  searchQuery?: string;\n}\n\n/**\n * Product grid controls props\n */\nexport interface ProductGridControlsProps {\n  title: string;\n  subtitle: string;\n  currentSort: SortKey;\n  onSortChange: (sort: SortKey) => void;\n  onFilterToggle: () => void;\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\types\\quickview.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\types\\search.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\utils\\formatters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\utils\\product-images.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\lib\\utils\\quickview.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\rabit\\OneDrive\\Desktop\\Nextjs Projects\\Full Stack ecommerce app\\ecommerce-app\\src\\proxy.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[487,490],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[487,490],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]